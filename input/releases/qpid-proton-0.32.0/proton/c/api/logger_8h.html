<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Qpid Proton C API: proton/logger.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qpid Proton C API
   &#160;<span id="projectnumber">0.32.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('logger_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">logger.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Facility for logging messages.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;proton/import_export.h&gt;</code><br />
<code>#include &lt;proton/object.h&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="logger_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaff413c562d91f0c5eb2ec3ef4082165e"><td class="memItemLeft" align="right" valign="top">
typedef struct <a class="el" href="group__logger.html#gaff413c562d91f0c5eb2ec3ef4082165e">pn_logger_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gaff413c562d91f0c5eb2ec3ef4082165e">pn_logger_t</a></td></tr>
<tr class="memdesc:gaff413c562d91f0c5eb2ec3ef4082165e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The logger object allows library logging to be controlled. <br /></td></tr>
<tr class="separator:gaff413c562d91f0c5eb2ec3ef4082165e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9caac23d5ca18bd2a9e93ca2d5fd2a38"><td class="memItemLeft" align="right" valign="top">
typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga9caac23d5ca18bd2a9e93ca2d5fd2a38">pn_log_sink_t</a>) (intptr_t sink_context, <a class="el" href="group__logger.html#gac861c944f890f31c1c2b22a3271250e4">pn_log_subsystem_t</a> subsystem, <a class="el" href="group__logger.html#gacff7629aa49e187a5e6182b80febabf1">pn_log_level_t</a> severity, const char *message)</td></tr>
<tr class="memdesc:ga9caac23d5ca18bd2a9e93ca2d5fd2a38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for sinking logger messages. <br /></td></tr>
<tr class="separator:ga9caac23d5ca18bd2a9e93ca2d5fd2a38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gac861c944f890f31c1c2b22a3271250e4"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gac861c944f890f31c1c2b22a3271250e4">pn_log_subsystem_t</a> { <br />
&#160;&#160;<a class="el" href="group__logger.html#ggac861c944f890f31c1c2b22a3271250e4a022f156826c787470f72fb9a95bc4d95">PN_SUBSYSTEM_NONE</a>, 
<a class="el" href="group__logger.html#ggac861c944f890f31c1c2b22a3271250e4a6a76fd3fe99ddec0374913b1e485c5b9">PN_SUBSYSTEM_MEMORY</a>, 
<a class="el" href="group__logger.html#ggac861c944f890f31c1c2b22a3271250e4a13eae69ba33a4d7ee9445d02af40972b">PN_SUBSYSTEM_IO</a>, 
<a class="el" href="group__logger.html#ggac861c944f890f31c1c2b22a3271250e4a726d1eb8786aa7e8471959d5dac87e48">PN_SUBSYSTEM_EVENT</a>, 
<br />
&#160;&#160;<a class="el" href="group__logger.html#ggac861c944f890f31c1c2b22a3271250e4a77ecacd1382a7c551f59c6377776b20f">PN_SUBSYSTEM_AMQP</a>, 
<a class="el" href="group__logger.html#ggac861c944f890f31c1c2b22a3271250e4a67702d482bd03004cbf6af31fa5264a2">PN_SUBSYSTEM_SSL</a>, 
<a class="el" href="group__logger.html#ggac861c944f890f31c1c2b22a3271250e4af2fc564994c4beb4fa6a3d785a2ac9ff">PN_SUBSYSTEM_SASL</a>, 
<a class="el" href="group__logger.html#ggac861c944f890f31c1c2b22a3271250e4ade35e5aebedd972db6494ac630edfd70">PN_SUBSYSTEM_BINDING</a>, 
<br />
&#160;&#160;<a class="el" href="group__logger.html#ggac861c944f890f31c1c2b22a3271250e4ae33b641a4f88f896adda4e8f6259a3cf">PN_SUBSYSTEM_ALL</a>
<br />
 }</td></tr>
<tr class="memdesc:gac861c944f890f31c1c2b22a3271250e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definitions for different subsystems that can log messages.  <a href="group__logger.html#gac861c944f890f31c1c2b22a3271250e4">More...</a><br /></td></tr>
<tr class="separator:gac861c944f890f31c1c2b22a3271250e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacff7629aa49e187a5e6182b80febabf1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gacff7629aa49e187a5e6182b80febabf1">pn_log_level_t</a> { <br />
&#160;&#160;<a class="el" href="group__logger.html#ggacff7629aa49e187a5e6182b80febabf1a6baab72a20a8abd567f45cd8c0ce636c">PN_LEVEL_NONE</a>, 
<a class="el" href="group__logger.html#ggacff7629aa49e187a5e6182b80febabf1ace763a2251fc672b06492f1ee429e5d0">PN_LEVEL_CRITICAL</a>, 
<a class="el" href="group__logger.html#ggacff7629aa49e187a5e6182b80febabf1a6a508b3057bf453821713f13ad91f77f">PN_LEVEL_ERROR</a>, 
<a class="el" href="group__logger.html#ggacff7629aa49e187a5e6182b80febabf1abaa10f830bf8dcb13964525c7dbacdfb">PN_LEVEL_WARNING</a>, 
<br />
&#160;&#160;<a class="el" href="group__logger.html#ggacff7629aa49e187a5e6182b80febabf1ad4a6295d0f6acc4afc347a18d25e046f">PN_LEVEL_INFO</a>, 
<a class="el" href="group__logger.html#ggacff7629aa49e187a5e6182b80febabf1ac9f4862a837876a830eb21060368229c">PN_LEVEL_DEBUG</a>, 
<a class="el" href="group__logger.html#ggacff7629aa49e187a5e6182b80febabf1a3a8d546a3464507929859580c8bdacc6">PN_LEVEL_TRACE</a>, 
<a class="el" href="group__logger.html#ggacff7629aa49e187a5e6182b80febabf1a07ed98e7988f169c5c7282bfd3a82c63">PN_LEVEL_FRAME</a>, 
<br />
&#160;&#160;<a class="el" href="group__logger.html#ggacff7629aa49e187a5e6182b80febabf1a6a26f859bdc36ee208a7594067219b27">PN_LEVEL_RAW</a>, 
<a class="el" href="group__logger.html#ggacff7629aa49e187a5e6182b80febabf1ae6ded7b53fb95447ef1a69ce45a1f9a2">PN_LEVEL_ALL</a>
<br />
 }</td></tr>
<tr class="memdesc:gacff7629aa49e187a5e6182b80febabf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definitions for different severities of log messages Note that these are exclusive bits so that you can specify multiple severities to filter.  <a href="group__logger.html#gacff7629aa49e187a5e6182b80febabf1">More...</a><br /></td></tr>
<tr class="separator:gacff7629aa49e187a5e6182b80febabf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2c101762fd4e0d97921bcba70450621d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__logger.html#gaff413c562d91f0c5eb2ec3ef4082165e">pn_logger_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga2c101762fd4e0d97921bcba70450621d">pn_default_logger</a> (void)</td></tr>
<tr class="memdesc:ga2c101762fd4e0d97921bcba70450621d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the default library logger.  <a href="group__logger.html#ga2c101762fd4e0d97921bcba70450621d">More...</a><br /></td></tr>
<tr class="separator:ga2c101762fd4e0d97921bcba70450621d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46b5f48f58923c128a5d2caf3205cdad"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga46b5f48f58923c128a5d2caf3205cdad">pn_logger_level_name</a> (<a class="el" href="group__logger.html#gacff7629aa49e187a5e6182b80febabf1">pn_log_level_t</a> level)</td></tr>
<tr class="memdesc:ga46b5f48f58923c128a5d2caf3205cdad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a human readable name for a logger severity.  <a href="group__logger.html#ga46b5f48f58923c128a5d2caf3205cdad">More...</a><br /></td></tr>
<tr class="separator:ga46b5f48f58923c128a5d2caf3205cdad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga100247ad047bfc0419f972d502bdf7a2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga100247ad047bfc0419f972d502bdf7a2">pn_logger_subsystem_name</a> (<a class="el" href="group__logger.html#gac861c944f890f31c1c2b22a3271250e4">pn_log_subsystem_t</a> subsystem)</td></tr>
<tr class="memdesc:ga100247ad047bfc0419f972d502bdf7a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a human readable name for a logger subsystem.  <a href="group__logger.html#ga100247ad047bfc0419f972d502bdf7a2">More...</a><br /></td></tr>
<tr class="separator:ga100247ad047bfc0419f972d502bdf7a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab14280cd88100c6ad4f9b1860bd753b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gab14280cd88100c6ad4f9b1860bd753b4">pn_logger_set_mask</a> (<a class="el" href="group__logger.html#gaff413c562d91f0c5eb2ec3ef4082165e">pn_logger_t</a> *logger, uint16_t subsystem, uint16_t level)</td></tr>
<tr class="memdesc:gab14280cd88100c6ad4f9b1860bd753b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a logger's tracing flags.  <a href="group__logger.html#gab14280cd88100c6ad4f9b1860bd753b4">More...</a><br /></td></tr>
<tr class="separator:gab14280cd88100c6ad4f9b1860bd753b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad8620929266e9ffa61e9ac9c2a64f57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gaad8620929266e9ffa61e9ac9c2a64f57">pn_logger_reset_mask</a> (<a class="el" href="group__logger.html#gaff413c562d91f0c5eb2ec3ef4082165e">pn_logger_t</a> *logger, uint16_t subsystem, uint16_t level)</td></tr>
<tr class="memdesc:gaad8620929266e9ffa61e9ac9c2a64f57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear a logger's tracing flags.  <a href="group__logger.html#gaad8620929266e9ffa61e9ac9c2a64f57">More...</a><br /></td></tr>
<tr class="separator:gaad8620929266e9ffa61e9ac9c2a64f57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8d8e14368ce0eeca38ee203b3b4dbd9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gaa8d8e14368ce0eeca38ee203b3b4dbd9">pn_logger_set_log_sink</a> (<a class="el" href="group__logger.html#gaff413c562d91f0c5eb2ec3ef4082165e">pn_logger_t</a> *logger, <a class="el" href="group__logger.html#ga9caac23d5ca18bd2a9e93ca2d5fd2a38">pn_log_sink_t</a> sink, intptr_t sink_context)</td></tr>
<tr class="memdesc:gaa8d8e14368ce0eeca38ee203b3b4dbd9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the tracing function used by a logger.  <a href="group__logger.html#gaa8d8e14368ce0eeca38ee203b3b4dbd9">More...</a><br /></td></tr>
<tr class="separator:gaa8d8e14368ce0eeca38ee203b3b4dbd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb5ddef6bc8a469e7babec8f055894f6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__logger.html#ga9caac23d5ca18bd2a9e93ca2d5fd2a38">pn_log_sink_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#gacb5ddef6bc8a469e7babec8f055894f6">pn_logger_get_log_sink</a> (<a class="el" href="group__logger.html#gaff413c562d91f0c5eb2ec3ef4082165e">pn_logger_t</a> *logger)</td></tr>
<tr class="memdesc:gacb5ddef6bc8a469e7babec8f055894f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the tracing function used by a logger.  <a href="group__logger.html#gacb5ddef6bc8a469e7babec8f055894f6">More...</a><br /></td></tr>
<tr class="separator:gacb5ddef6bc8a469e7babec8f055894f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga788982b1120f98537d698c1b61be4cf1"><td class="memItemLeft" align="right" valign="top">intptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga788982b1120f98537d698c1b61be4cf1">pn_logger_get_log_sink_context</a> (<a class="el" href="group__logger.html#gaff413c562d91f0c5eb2ec3ef4082165e">pn_logger_t</a> *logger)</td></tr>
<tr class="memdesc:ga788982b1120f98537d698c1b61be4cf1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the sink context used by a logger.  <a href="group__logger.html#ga788982b1120f98537d698c1b61be4cf1">More...</a><br /></td></tr>
<tr class="separator:ga788982b1120f98537d698c1b61be4cf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga592fd3c902fced39d89f588f8fad3ba3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__logger.html#ga592fd3c902fced39d89f588f8fad3ba3">pn_logger_logf</a> (<a class="el" href="group__logger.html#gaff413c562d91f0c5eb2ec3ef4082165e">pn_logger_t</a> *logger, <a class="el" href="group__logger.html#gac861c944f890f31c1c2b22a3271250e4">pn_log_subsystem_t</a> subsystem, <a class="el" href="group__logger.html#gacff7629aa49e187a5e6182b80febabf1">pn_log_level_t</a> level, const char *fmt,...)</td></tr>
<tr class="memdesc:ga592fd3c902fced39d89f588f8fad3ba3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Log a printf formatted message using the logger.  <a href="group__logger.html#ga592fd3c902fced39d89f588f8fad3ba3">More...</a><br /></td></tr>
<tr class="separator:ga592fd3c902fced39d89f588f8fad3ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Facility for logging messages. </p>
<p>The proton library has internal logging which provides information about the functioning of the library. This Logger system (see <a class="el" href="group__logger.html#gaff413c562d91f0c5eb2ec3ef4082165e">pn_logger_t</a>) allows applications to customize how the logging is recorded and output.</p>
<p>Each logged message has an attached level (see <a class="el" href="group__logger.html#gacff7629aa49e187a5e6182b80febabf1">pn_log_level_t</a>) which indicates how important the message is; and also has an attached subsystem (see <a class="el" href="group__logger.html#gac861c944f890f31c1c2b22a3271250e4">pn_log_subsystem_t</a>) which indicates which part of proton is producing# the log message. The levels go from "Critical" which indicates a condition the library cannot recover from.</p>
<p>Applications receive log messages by registering a callback function (<a class="el" href="group__logger.html#ga9caac23d5ca18bd2a9e93ca2d5fd2a38">pn_log_sink_t</a>). This receives the logged message and other information and allows the application to consume the logged messages as it wants. Applications can filter the messages that they receive by setting bit masks in the logger. They can set the logger filtering both by subsystem and by level. Additionally, since the callback contains both the subsystem and level information for each logged message, applications can impose further, more complex, filters of their own.</p>
<p>Each application will have a default logger which can be retrieved with <a class="el" href="group__logger.html#ga2c101762fd4e0d97921bcba70450621d">pn_default_logger</a>. The default logger is used as the template for every other logger that is created. So an efficient way to configure logging is to configure the default logger at the very start of the application before any other loggers get created.</p>
<p>Loggers are associated with different proton objects, primarily the transport object (<a class="el" href="group__transport.html#gac26eda05f649bbf0399f3d8d78d12fa8">pn_transport_t</a>) and each logger controls the logging for the associated object. This means that for example in order to control the logging for an AMQP connection you need to acquire the logger object from the transport object using <a class="el" href="group__transport.html#ga3a539904a3de515110377b41c185c615">pn_transport_logger</a> and to configure that.</p>
<p>Initially the defaults are to log every subsystem but not any level (except 'Critical' which is always logged). This means in effect that it is only necessary to turn on the log levels that are interesting and all subsystems will log. Of course you can turn off subsystems that are not interesting or are too verbose.</p>
<p>There is also a default log sink if the application does not register their own, but logging is turned on - this will output the log message to standard error. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_3a71568e5d046e5ed52679664c3002a5.html">proton</a></li><li class="navelem"><a class="el" href="logger_8h.html">logger.h</a></li>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
