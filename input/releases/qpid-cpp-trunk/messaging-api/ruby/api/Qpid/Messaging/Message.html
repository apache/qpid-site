<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Qpid::Messaging::Message - Qpid Ruby Messaging API</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/darkfish.js"></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link">Object
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-5B-5D">#[]</a>
    
    <li ><a href="#method-i-5B-5D-3D">#[]=</a>
    
    <li ><a href="#method-i-content">#content</a>
    
    <li ><a href="#method-i-content-3D">#content=</a>
    
    <li ><a href="#method-i-content_object">#content_object</a>
    
    <li ><a href="#method-i-content_object-3D">#content_object=</a>
    
    <li ><a href="#method-i-content_size">#content_size</a>
    
    <li ><a href="#method-i-content_type">#content_type</a>
    
    <li ><a href="#method-i-content_type-3D">#content_type=</a>
    
    <li ><a href="#method-i-correlation_id">#correlation_id</a>
    
    <li ><a href="#method-i-correlation_id-3D">#correlation_id=</a>
    
    <li ><a href="#method-i-durable">#durable</a>
    
    <li ><a href="#method-i-durable-3D">#durable=</a>
    
    <li ><a href="#method-i-message_id">#message_id</a>
    
    <li ><a href="#method-i-message_id-3D">#message_id=</a>
    
    <li ><a href="#method-i-priority">#priority</a>
    
    <li ><a href="#method-i-priority-3D">#priority=</a>
    
    <li ><a href="#method-i-properties">#properties</a>
    
    <li ><a href="#method-i-redelivered">#redelivered</a>
    
    <li ><a href="#method-i-redelivered-3D">#redelivered=</a>
    
    <li ><a href="#method-i-reply_to">#reply_to</a>
    
    <li ><a href="#method-i-reply_to-3D">#reply_to=</a>
    
    <li ><a href="#method-i-subject">#subject</a>
    
    <li ><a href="#method-i-subject-3D">#subject=</a>
    
    <li ><a href="#method-i-ttl">#ttl</a>
    
    <li ><a href="#method-i-ttl-3D">#ttl=</a>
    
    <li ><a href="#method-i-user_id">#user_id</a>
    
    <li ><a href="#method-i-user_id-3D">#user_id=</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Qpid::Messaging::Message">
  <h1 id="class-Qpid::Messaging::Message" class="class">
    class Qpid::Messaging::Message
  </h1>

  <section class="description">
    
<p>A <code>Message</code> represents an routable piece of information.</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(args = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Creates a <code>Message</code>.</p>

<h4 id="method-c-new-label-Options">Options<span><a href="#method-c-new-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>:content</code> - the content</p>
</li></ul>

<h4 id="method-c-new-label-Examples">Examples<span><a href="#method-c-new-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h4>

<pre class="ruby"><span class="ruby-comment"># create a simple message and sends it</span>
<span class="ruby-identifier">message</span> = <span class="ruby-constant">Qpid</span><span class="ruby-operator">::</span><span class="ruby-constant">Messaging</span><span class="ruby-operator">::</span><span class="ruby-constant">Message</span>.<span class="ruby-identifier">new</span> :<span class="ruby-identifier">content</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;This is a message.&quot;</span>
<span class="ruby-identifier">sender</span>.<span class="ruby-identifier">send</span> <span class="ruby-identifier">message</span>
</pre>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 39</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">args</span> = {})
  <span class="ruby-ivar">@message_impl</span> = (<span class="ruby-identifier">args</span>[<span class="ruby-value">:impl</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">:impl</span>]) <span class="ruby-operator">||</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@message_impl</span> = <span class="ruby-constant">Cqpid</span><span class="ruby-operator">::</span><span class="ruby-constant">Message</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-identifier">args</span> = {} <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">content_object</span> = <span class="ruby-identifier">args</span>[<span class="ruby-value">:content</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">args</span>[<span class="ruby-value">:content</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-5B-5D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">[]</span><span
            class="method-args">(key)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the value for the named property.</p>

<h4 id="method-i-5B-5D-label-Options">Options<span><a href="#method-i-5B-5D-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>name</code> - the property name</p>
</li></ul>

<h4 id="method-i-5B-5D-label-Examples">Examples<span><a href="#method-i-5B-5D-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h4>

<pre class="ruby"><span class="ruby-comment"># use of message properties to mark a message as digitally signed</span>
<span class="ruby-identifier">verify</span>(<span class="ruby-identifier">msg</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">msg</span>[:<span class="ruby-identifier">signed</span>]
</pre>
          
          

          
          <div class="method-source-code" id="5B-5D-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 262</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">key</span>); <span class="ruby-keyword">self</span>.<span class="ruby-identifier">properties</span>[<span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>]; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-5B-5D-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">[]=</span><span
            class="method-args">(key, value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Assigns a value to the named property.</p>

<p>A property&#39;s name or value, if a symbol, will be converted to a string
representation. However, you will still be able to access them using a
symbol for the name.</p>

<h4 id="method-i-5B-5D-3D-label-Options">Options<span><a href="#method-i-5B-5D-3D-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>name</code> - the property name</p>
</li><li>
<p><code>value</code> - the property value</p>
</li></ul>

<h4 id="method-i-5B-5D-3D-label-Examples">Examples<span><a href="#method-i-5B-5D-3D-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h4>

<pre class="ruby"><span class="ruby-comment"># set the signed attribute on a message and then retrieve it</span>
<span class="ruby-identifier">msg</span>[:<span class="ruby-identifier">signed</span>] = <span class="ruby-keyword">true</span> <span class="ruby-comment"># sets &quot;signed&quot; =&gt; true</span>
<span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;It&#39;s signed&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">msg</span>[<span class="ruby-string">&quot;signed&quot;</span>] <span class="ruby-comment"># outputs &quot;It&#39;s signed&quot;</span>
</pre>
          
          

          
          <div class="method-source-code" id="5B-5D-3D-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 281</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">setProperty</span>(<span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>,
                            <span class="ruby-constant">Qpid</span><span class="ruby-operator">::</span><span class="ruby-constant">Messaging</span>.<span class="ruby-identifier">stringify</span>(<span class="ruby-identifier">value</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-content" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the content of the <code>Message</code>.</p>

<p>Content is automatically decoded based on the specified content type. If
the content type is application-specific, then no decoding is performed and
the content is returnedas a <code>String</code> representation.</p>

<p>For example, if an array of integers are sent, then the receiver will find
the message content to be an array of String objects, where each String is
a representation of the sent integer value.</p>
          
          

          
          <div class="method-source-code" id="content-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 329</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@content</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@content</span> = <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getContent</span>

    <span class="ruby-comment"># decode the content is necessary if it</span>
    <span class="ruby-comment"># has an encoded content type</span>
    <span class="ruby-keyword">if</span> [<span class="ruby-string">&quot;amqp/list&quot;</span>, <span class="ruby-string">&quot;amqp/map&quot;</span>].<span class="ruby-identifier">include?</span> <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getContentType</span>
      <span class="ruby-ivar">@content</span> = <span class="ruby-constant">Qpid</span><span class="ruby-operator">::</span><span class="ruby-constant">Messaging</span>.<span class="ruby-identifier">decode</span>(<span class="ruby-keyword">self</span>,
                                        <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getContentType</span>)
    <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@content</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-content-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content=</span><span
            class="method-args">(content)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the content for the <code>Message</code>.</p>

<p>Content is automatically encoded for Array and Hash types. Other types need
to set their own content types (via <a
href="Message.html#method-i-content_type">#content_type</a>) in order to
specify how recipients should process the content.</p>

<h4 id="method-i-content-3D-label-Options">Options<span><a href="#method-i-content-3D-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>content</code> - the content</p>
</li></ul>

<h4 id="method-i-content-3D-label-Examples">Examples<span><a href="#method-i-content-3D-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h4>

<pre class="ruby"><span class="ruby-comment"># set a simple content for a message</span>
<span class="ruby-identifier">msg</span>.<span class="ruby-identifier">content</span> = <span class="ruby-string">&quot;This is a simple message.&quot;</span>
<span class="ruby-comment"># sets content that is automatically encoded</span>
<span class="ruby-identifier">msg</span>.<span class="ruby-identifier">content</span> = {:<span class="ruby-identifier">foo</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">bar</span>}
</pre>
          
          

          
          <div class="method-source-code" id="content-3D-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 303</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content=</span>(<span class="ruby-identifier">content</span>)
  <span class="ruby-identifier">content_type</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@content</span> = <span class="ruby-constant">Qpid</span><span class="ruby-operator">::</span><span class="ruby-constant">Messaging</span>.<span class="ruby-identifier">stringify</span>(<span class="ruby-identifier">content</span>)
  <span class="ruby-keyword">case</span> <span class="ruby-ivar">@content</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Hash</span>
    <span class="ruby-identifier">content_type</span> = <span class="ruby-string">&quot;amqp/map&quot;</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Array</span>
    <span class="ruby-identifier">content_type</span> = <span class="ruby-string">&quot;amqp/list&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">content_type</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">setContent</span> <span class="ruby-ivar">@content</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">Qpid</span><span class="ruby-operator">::</span><span class="ruby-constant">Messaging</span>.<span class="ruby-identifier">encode</span> <span class="ruby-ivar">@content</span>, <span class="ruby-keyword">self</span>, <span class="ruby-identifier">content_type</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-content_object" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content_object</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the content of the <code>Message</code>.</p>
          
          

          
          <div class="method-source-code" id="content_object-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 366</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content_object</span>
  <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getContentObject</span>()
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-content_object-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content_object=</span><span
            class="method-args">(content)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the message content.</p>

<h4 id="method-i-content_object-3D-label-Options">Options<span><a href="#method-i-content_object-3D-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>content</code> - the content</p>
</li></ul>

<h4 id="method-i-content_object-3D-label-Examples">Examples<span><a href="#method-i-content_object-3D-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h4>

<pre class="ruby"><span class="ruby-comment"># set a simple content for a message</span>
<span class="ruby-identifier">msg</span>.<span class="ruby-identifier">content_object</span> = <span class="ruby-string">&quot;This is a simple message.&quot;</span>
<span class="ruby-comment"># sets content that is automatically encoded</span>
<span class="ruby-identifier">msg</span>.<span class="ruby-identifier">content_object</span> = {:<span class="ruby-identifier">foo</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">bar</span>}
</pre>
          
          

          
          <div class="method-source-code" id="content_object-3D-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 360</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content_object=</span>(<span class="ruby-identifier">content</span>)
  <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">setContentObject</span>(<span class="ruby-constant">Qpid</span><span class="ruby-operator">::</span><span class="ruby-constant">Messaging</span>.<span class="ruby-identifier">stringify</span>(<span class="ruby-identifier">content</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-content_size" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content_size</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the content&#39;s size in bytes.</p>
          
          

          
          <div class="method-source-code" id="content_size-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 345</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content_size</span>; <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getContentSize</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-content_type" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content_type</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the content type for the <code>Message</code>.</p>
          
          

          
          <div class="method-source-code" id="content_type-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 111</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content_type</span>; <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getContentType</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-content_type-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content_type=</span><span
            class="method-args">(content_type)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the content type for the <code>Message</code>.</p>

<p>This should be set by the sending application and indicates to the
recipients of the message how to interpret or decode the content.</p>

<p>By default, only dictionaries and maps are automatically given a content
type. If this content type is replaced then retrieving the content will not
behave correctly.</p>

<h4 id="method-i-content_type-3D-label-Options">Options<span><a href="#method-i-content_type-3D-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>content_type</code> - the content type</p>
</li></ul>

<h4 id="method-i-content_type-3D-label-Examples">Examples<span><a href="#method-i-content_type-3D-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h4>

<pre># send base64 encoded data in a mesage
msg = Qpid::Messaging::Message.new :content = &quot;UXBpZCBSdWxlcyEK&quot;
msg.content_type = &quot;application/base64&quot;</pre>
          
          

          
          <div class="method-source-code" id="content_type-3D-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 108</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content_type=</span>(<span class="ruby-identifier">content_type</span>); <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">setContentType</span> <span class="ruby-identifier">content_type</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-correlation_id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">correlation_id</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the correlation id of the <code>Message</code>.</p>
          
          

          
          <div class="method-source-code" id="correlation_id-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 171</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">correlation_id</span>; <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getCorrelationId</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-correlation_id-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">correlation_id=</span><span
            class="method-args">(correlation_id)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the correlation id of the <code>Message</code>.</p>

<p>The correlation id can be used as part of a protocol for message exchange
patterns; e.g., a request-response pattern might require the correlation id
of the request and the response to match, or it might use the message id of
the request as the correlation id on the response.</p>

<p><strong>NOTE:</strong> If the id is not a <code>String</code> then the id
is setup using the object&#39;s string representation.</p>

<h4 id="method-i-correlation_id-3D-label-Options">Options<span><a href="#method-i-correlation_id-3D-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>id</code> - the id</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="correlation_id-3D-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 168</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">correlation_id=</span>(<span class="ruby-identifier">correlation_id</span>); <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">setCorrelationId</span> <span class="ruby-identifier">correlation_id</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-durable" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">durable</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the durability for the <code>Message</code>.</p>
          
          

          
          <div class="method-source-code" id="durable-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 224</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">durable</span>; <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getDurable</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-durable-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">durable=</span><span
            class="method-args">(durable)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the durability of the <code>Message</code>.</p>

<p>This is a hint to the messaging infrastructure that the message should be
persisted or otherwise stored. This helps to ensure that the message is not
lost due to failures or a shutdown.</p>

<h4 id="method-i-durable-3D-label-Options">Options<span><a href="#method-i-durable-3D-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>durable</code> - the durability flag (def. false)</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="durable-3D-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 221</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">durable=</span>(<span class="ruby-identifier">durable</span>); <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">setDurable</span> <span class="ruby-identifier">durable</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-message_id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">message_id</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the message id.</p>
          
          

          
          <div class="method-source-code" id="message_id-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 131</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">message_id</span>; <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getMessageId</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-message_id-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">message_id=</span><span
            class="method-args">(message_id)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the message id.</p>

<p><strong>NOTE:</strong> this field must be a UUID type currently. A non-UUID
value will be converted to a zero UUID, though a blank ID will be left
untouched.</p>

<h4 id="method-i-message_id-3D-label-Options">Options<span><a href="#method-i-message_id-3D-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>id</code> - the id</p>
</li></ul>

<h4 id="method-i-message_id-3D-label-Examples">Examples<span><a href="#method-i-message_id-3D-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h4>

<pre class="ruby"><span class="ruby-comment"># this example only works in Ruby &gt;= 1.9, for 1.8 use a UUID library</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;SecureRandom&#39;</span>
<span class="ruby-identifier">msg</span>.<span class="ruby-identifier">message_id</span> = <span class="ruby-constant">SecureRandom</span>.<span class="ruby-identifier">uuid</span>
</pre>
          
          

          
          <div class="method-source-code" id="message_id-3D-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">message_id=</span>(<span class="ruby-identifier">message_id</span>); <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">setMessageId</span> <span class="ruby-identifier">message_id</span>.<span class="ruby-identifier">to_s</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-priority" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">priority</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the priority for the <code>Message</code>.</p>
          
          

          
          <div class="method-source-code" id="priority-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 189</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">priority</span>; <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getPriority</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-priority-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">priority=</span><span
            class="method-args">(priority)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the priority of the <code>Message</code>.</p>

<p>This may be used by the messaging infrastructure to prioritize delivery of
messages with higher priority.</p>

<p><strong>NOTE:</strong> If the priority is not an integer type then it is
set using the object&#39;s integer representation. If the integer value is
greater than 8-bits then only the first 8-bits are used.</p>

<h4 id="method-i-priority-3D-label-Options">Options<span><a href="#method-i-priority-3D-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>priority</code> - the priority</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="priority-3D-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 186</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">priority=</span>(<span class="ruby-identifier">priority</span>); <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">setPriority</span> <span class="ruby-identifier">priority</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-properties" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">properties</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns all named properties.</p>

<p><strong>NOTE:</strong> It is recommended to use the []= method for
retrieving and setting properties. Using this method may result in
non-deterministic behavior.</p>
          
          

          
          <div class="method-source-code" id="properties-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 249</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">properties</span>; <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getProperties</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-redelivered" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">redelivered</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns whether the <code>Message</code> has been marked as redelivered.</p>
          
          

          
          <div class="method-source-code" id="redelivered-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 242</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">redelivered</span>; <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getRedelivered</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-redelivered-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">redelivered=</span><span
            class="method-args">(redelivered)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>This is a hint to the messaging infrastructure that if de-duplication is
required, that this message should be examined to determine if it is a
duplicate.</p>

<h4 id="method-i-redelivered-3D-label-Options">Options<span><a href="#method-i-redelivered-3D-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>redelivered</code> - sets the redelivered state (def. false)</p>
</li></ul>

<h4 id="method-i-redelivered-3D-label-Examples">Examples<span><a href="#method-i-redelivered-3D-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h4>

<pre class="ruby"><span class="ruby-comment"># processed is a collection of messages already received</span>
<span class="ruby-identifier">msg</span>.<span class="ruby-identifier">redelivered</span> = <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">processed</span>.<span class="ruby-identifier">include?</span> <span class="ruby-identifier">msg</span>.<span class="ruby-identifier">message_id</span>
</pre>
          
          

          
          <div class="method-source-code" id="redelivered-3D-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 239</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">redelivered=</span>(<span class="ruby-identifier">redelivered</span>); <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">setRedelivered</span> <span class="ruby-identifier">redelivered</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-reply_to" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reply_to</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the reply to address for the <code>Message</code>.</p>
          
          

          
          <div class="method-source-code" id="reply_to-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 73</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reply_to</span>
  <span class="ruby-identifier">address_impl</span> = <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getReplyTo</span>
  <span class="ruby-comment"># only return an address if a reply to was specified</span>
  <span class="ruby-constant">Qpid</span><span class="ruby-operator">::</span><span class="ruby-constant">Messaging</span><span class="ruby-operator">::</span><span class="ruby-constant">Address</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">address_impl</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">address_impl</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-reply_to-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reply_to=</span><span
            class="method-args">(address)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the reply-to address.</p>

<p>The address can either be an instance of <a href="Address.html">Address</a>
or else and address string.</p>

<h4 id="method-i-reply_to-3D-label-Options">Options<span><a href="#method-i-reply_to-3D-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>address</code> - the address</p>
</li></ul>

<h4 id="method-i-reply_to-3D-label-Examples">Examples<span><a href="#method-i-reply_to-3D-label-Examples">&para;</a> <a href="#top">&uarr;</a></span></h4>

<pre># set replies using an Address
msg.reply_to = Qpid:Messaging::Address.new &quot;my-responses&quot;
# set replies using an address string
msg.reply_to = &quot;my-feed/responses&quot;</pre>
          
          

          
          <div class="method-source-code" id="reply_to-3D-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 66</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reply_to=</span>(<span class="ruby-identifier">address</span>)
  <span class="ruby-identifier">address</span> = <span class="ruby-constant">Qpid</span><span class="ruby-operator">::</span><span class="ruby-constant">Messaging</span><span class="ruby-operator">::</span><span class="ruby-constant">Address</span>.<span class="ruby-identifier">new</span> <span class="ruby-node">&quot;#{address}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">address</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Qpid</span><span class="ruby-operator">::</span><span class="ruby-constant">Messaging</span><span class="ruby-operator">::</span><span class="ruby-constant">Address</span>

  <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">setReplyTo</span> <span class="ruby-identifier">address</span>.<span class="ruby-identifier">address_impl</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-subject" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">subject</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the subject of the <code>Message</code>.</p>
          
          

          
          <div class="method-source-code" id="subject-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 87</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">subject</span>; <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getSubject</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-subject-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">subject=</span><span
            class="method-args">(subject)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the subject for the <code>Message</code>.</p>

<h4 id="method-i-subject-3D-label-Options">Options<span><a href="#method-i-subject-3D-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>subject</code> - the subject</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="subject-3D-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 84</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">subject=</span>(<span class="ruby-identifier">subject</span>); <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">setSubject</span> <span class="ruby-identifier">subject</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ttl" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ttl</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the time-to-live in milliseconds.</p>
          
          

          
          <div class="method-source-code" id="ttl-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 209</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ttl</span>; <span class="ruby-constant">Qpid</span><span class="ruby-operator">::</span><span class="ruby-constant">Messaging</span><span class="ruby-operator">::</span><span class="ruby-constant">Duration</span>.<span class="ruby-identifier">new</span> <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getTtl</span>.<span class="ruby-identifier">getMilliseconds</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ttl-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ttl=</span><span
            class="method-args">(duration)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the time-to-live in milliseconds.</p>

<p>This can be used by the messaging infrastructure to discard messages that
are no longer of relevance.</p>

<h4 id="method-i-ttl-3D-label-Options">Options<span><a href="#method-i-ttl-3D-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>duration</code> - the number of milliseconds</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="ttl-3D-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 200</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ttl=</span>(<span class="ruby-identifier">duration</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">duration</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Qpid</span><span class="ruby-operator">::</span><span class="ruby-constant">Messaging</span><span class="ruby-operator">::</span><span class="ruby-constant">Duration</span>
    <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">setTtl</span> <span class="ruby-identifier">duration</span>.<span class="ruby-identifier">duration_impl</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">setTtl</span> <span class="ruby-constant">Cqpid</span><span class="ruby-operator">::</span><span class="ruby-constant">Duration</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">duration</span>.<span class="ruby-identifier">to_i</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-user_id" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">user_id</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the user id for the <code>Message</code>.</p>
          
          

          
          <div class="method-source-code" id="user_id-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 151</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">user_id</span>; <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">getUserId</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-user_id-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">user_id=</span><span
            class="method-args">(user_id)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the user id for the <code>Message</code>.</p>

<p>This should in general be the user-id which was used when authenticating
the connection itself, as the messaging infrastructure will verify this.</p>

<p>See <a
href="Connection.html#method-i-authenticated_username">Qpid::Messaging::Connection#authenticated_username</a></p>

<p><strong>NOTE:</strong> If the id is not a <code>String</code> then the id
is set using the object&#39;s string representation.</p>

<h4 id="method-i-user_id-3D-label-Options">Options<span><a href="#method-i-user_id-3D-label-Options">&para;</a> <a href="#top">&uarr;</a></span></h4>
<ul><li>
<p><code>id</code> - the id</p>
</li></ul>
          
          

          
          <div class="method-source-code" id="user_id-3D-source">
            <pre><span class="ruby-comment"># File qpid/ruby/lib/qpid_messaging/message.rb, line 148</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">user_id=</span>(<span class="ruby-identifier">user_id</span>); <span class="ruby-ivar">@message_impl</span>.<span class="ruby-identifier">setUserId</span> <span class="ruby-identifier">user_id</span>; <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://docs.seattlerb.org/rdoc/">RDoc</a> 4.2.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

