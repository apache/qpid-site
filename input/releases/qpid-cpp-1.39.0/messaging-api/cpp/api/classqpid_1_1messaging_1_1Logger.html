<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Qpid C++ Messaging API: qpid::messaging::Logger Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Qpid C++ Messaging API
   &#160;<span id="projectnumber">1.39.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classqpid_1_1messaging_1_1Logger.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classqpid_1_1messaging_1_1Logger-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">qpid::messaging::Logger Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="Logger_8h_source.html">Logger.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:abbe85863cc46da050ad0305d31ea32c6"><td class="memItemLeft" align="right" valign="top">static QPID_MESSAGING_EXTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqpid_1_1messaging_1_1Logger.html#abbe85863cc46da050ad0305d31ea32c6">configure</a> (int argc, const char *argv[], const std::string &amp;prefix=std::string())</td></tr>
<tr class="separator:abbe85863cc46da050ad0305d31ea32c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6b632b061c375607e6f1f943bc95f47"><td class="memItemLeft" align="right" valign="top">static QPID_MESSAGING_EXTERN std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqpid_1_1messaging_1_1Logger.html#aa6b632b061c375607e6f1f943bc95f47">usage</a> ()</td></tr>
<tr class="separator:aa6b632b061c375607e6f1f943bc95f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa78eced330829f501b89290d4f98817e"><td class="memItemLeft" align="right" valign="top">static QPID_MESSAGING_EXTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqpid_1_1messaging_1_1Logger.html#aa78eced330829f501b89290d4f98817e">setOutput</a> (<a class="el" href="classqpid_1_1messaging_1_1LoggerOutput.html">LoggerOutput</a> &amp;output)</td></tr>
<tr class="separator:aa78eced330829f501b89290d4f98817e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cdeb3f0081f0e7e254347ff78436761"><td class="memItemLeft" align="right" valign="top">static QPID_MESSAGING_EXTERN void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqpid_1_1messaging_1_1Logger.html#a6cdeb3f0081f0e7e254347ff78436761">log</a> (Level level, const char *file, int line, const char *function, const std::string &amp;message)</td></tr>
<tr class="separator:a6cdeb3f0081f0e7e254347ff78436761"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A utility class to allow the application to control the logging output of the qpid messaging library</p>
<p>This class represents a singleton logging facility within the qpid messaging library so there are only static methods in the class </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="abbe85863cc46da050ad0305d31ea32c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbe85863cc46da050ad0305d31ea32c6">&#9670;&nbsp;</a></span>configure()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static QPID_MESSAGING_EXTERN void qpid::messaging::Logger::configure </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em> = <code>std::string()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Configure the logging subsystem</p>
<p>This function takes an array of text options (which could easily come from a programs command line) and uses them to configure the logging subsystem.</p>
<p>If the prefix parameter is specified then the accepted command line options are prefixed by &lt;&lt;prefix&gt;&gt;- for example if the prefix is "qpid" then the options all start "--qpid-log..."</p>
<p>Accepted options are: &ndash;log-enable RULE &ndash;log-disable RULE</p>
<p>Both &ndash;log-enable and &ndash;log-disable can be specified multiple times in a single command line. The enables are acted upon and after them the disables are acted upon.</p>
<p>RULE is in the form LEVEL[("+"|"-")][:PATTERN] LEVEL is one of "trace", "debug", "info", "notice", "warning", "error", "critical" "+" operates on the level and all higher levels "-" operates on the level and all lower levels PATTERN is a category name or a fragment of a fully namespace qualified function (Case sensitive).</p>
<p>&ndash;log-to-stdout ("on"|"off|"0"|"1")
 --log-to-stderr ("on"|"off|"0"|"1") &ndash;log-to-file FILENAME</p>
<p>These options control where the qpid logging subsystem sends log messages</p>
<p>&ndash;log-time ("on"|"off|"0"|"1")
 --log-level ("on"|"off|"0"|"1") &ndash;log-source ("on"|"off|"0"|"1")
--log-thread ("on"|"off|"0"|"1") &ndash;log-function ("on"|"off|"0"|"1")
 --log-hires-timestamp ("on"|"off|"0"|"1")</p>
<p>These options control what information is included in the logging message sent by the logging subsystem.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>count of options - identical to meaning for main(). </td></tr>
    <tr><td class="paramname">argv</td><td>array of pointers to options - identical to meaning for main(). </td></tr>
    <tr><td class="paramname">prefix</td><td>(optional) If present prefix all logging options with this string </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="structqpid_1_1messaging_1_1MessagingException.html">MessagingException</a></td><td>if it cannot parse an option it recognises </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6cdeb3f0081f0e7e254347ff78436761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cdeb3f0081f0e7e254347ff78436761">&#9670;&nbsp;</a></span>log()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static QPID_MESSAGING_EXTERN void qpid::messaging::Logger::log </td>
          <td>(</td>
          <td class="paramtype">Level&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Output a log message. This will get sent to all the specified logging outputs including any the application has registered. The message will get filtered along with the internal messages according to the specified logging filters.</p>
<p>When a log message output using <a class="el" href="classqpid_1_1messaging_1_1Logger.html#a6cdeb3f0081f0e7e254347ff78436761">log()</a> is received by a <a class="el" href="classqpid_1_1messaging_1_1LoggerOutput.html#a1b9caecf783ed92d7f400a180df7aa6e">LoggerOutput::log()</a> method the "user" bool parameter will be set true. </p>

</div>
</div>
<a id="aa78eced330829f501b89290d4f98817e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa78eced330829f501b89290d4f98817e">&#9670;&nbsp;</a></span>setOutput()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static QPID_MESSAGING_EXTERN void qpid::messaging::Logger::setOutput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classqpid_1_1messaging_1_1LoggerOutput.html">LoggerOutput</a> &amp;&#160;</td>
          <td class="paramname"><em>output</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Register a custom handler for log messages</p>
<p>This allows application programs to intercept the log messages coming from qpid::messaging and handle them in whatever way is consonent with the applications own handling of log messages.</p>
<p>In order to do this create a class that inherits from <a class="el" href="classqpid_1_1messaging_1_1LoggerOutput.html">qpid::messaging::LoggerOutput</a> and override the <a class="el" href="classqpid_1_1messaging_1_1Logger.html#a6cdeb3f0081f0e7e254347ff78436761">log()</a> member function. </p>

</div>
</div>
<a id="aa6b632b061c375607e6f1f943bc95f47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6b632b061c375607e6f1f943bc95f47">&#9670;&nbsp;</a></span>usage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static QPID_MESSAGING_EXTERN std::string qpid::messaging::Logger::usage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a user friendly usage message.</p>
<p>This returns a usage message that is suitable for outputting directly to a console user. The message only contains the command line options that are understood by <a class="el" href="classqpid_1_1messaging_1_1Logger.html#abbe85863cc46da050ad0305d31ea32c6">qpid::messaging::Logger::configure()</a>.</p>
<p>NB. You must call <a class="el" href="classqpid_1_1messaging_1_1Logger.html#abbe85863cc46da050ad0305d31ea32c6">qpid::messaging::Logger::configure()</a> before calling this to populate the usage string as the usage string depends on the prefix that is passed in to <a class="el" href="classqpid_1_1messaging_1_1Logger.html#abbe85863cc46da050ad0305d31ea32c6">qpid::messaging::Logger::configure()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>string containing the usage message for the command line options </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>qpid/messaging/<a class="el" href="Logger_8h_source.html">Logger.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>qpid</b></li><li class="navelem"><b>messaging</b></li><li class="navelem"><a class="el" href="classqpid_1_1messaging_1_1Logger.html">Logger</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
