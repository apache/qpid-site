<div class="docbook"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">D.2.&#160;Statistic Report Patterns</th></tr><tr><td align="left" width="20%"><a accesskey="p" href="Java-Broker-Appendix-Statistics-Reporting.html">Prev</a>&#160;</td><th align="center" width="60%">Appendix&#160;D.&#160;Statistics Reporting</th><td align="right" width="20%">&#160;<a accesskey="n" href="apds03.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="d0e9489"></a>D.2.&#160;Statistic Report Patterns</h2></div></div></div><p>The statistic report pattern defines the format of a statistic report written to the log.</p><p>Statistic report patterns are defined by <a class="link" href="Java-Broker-Management-Managing-Entities.html#Java-Broker-Management-Managing-Entities-General" title="7.1.&#160;General Description">
      content variables</a>.  The place where the context variable is defined governs the scope i.e. the entities to
      which the pattern will be applied.</p><p>For instance, to define a statistics reporting pattern for a single queue,
      <a class="link" href="Java-Broker-Management-Channel-Web-Console.html#Java-Broker-Management-Channel-Web-Console-Managing-Context-Variables" title="6.2.3.4.&#160;Context Variables">set the contextvariable
      </a> on the queue itself.  If you want the same statistics report pattern for apply to all queues, set the pattern on a
       suitable ancestor of the queue.  For instance, if set on virtualhost, the pattern will applied to all queues defined
       on that virtualhost.  If set on Broker, the pattern will be applied to all queues on the Broker.</p><p>The context variable name is formed as follows:
      <code class="literal">qpid.&lt;category-name&gt;.statisticsReportPattern</code>.</p><p>For instance, for queue: <code class="literal">qpid.queue.statisticsReportPattern</code> and virtualhost:
      <code class="literal">qpid.virtualhost.statisticsReportPattern</code></p><p>The value of the context variable is a free text string containing reference(s) to the statistic names that
      are to appear in the report. References are made by surrounding the name of the statistic with '$' and curly braces,
      thus <code class="literal">${&lt;statistic-name&gt;}</code>.</p><p>Statistics references allow an optional formatters. The supported formatters are: <code class="literal">:byteunit</code>
      (produces a human readable byte value e.g. 3 MiB), <code class="literal">:duration</code> (produces a ISO-8601 duration)and
      <code class="literal">:datetime</code> (produces a ISO-8601 date/time).</p><p>For example, a statistic report pattern for the <code class="literal">queue</code> category specifying two queue
      statistic values: <code class="literal">queueDepthMessages=${queueDepthMessages},queueDepthBytes=${queueDepthBytes:byteunit}</code></p><p>Like all context variables, the statistic report pattern can also reference the attributes of the entity
      or even its ancestors.  This feature can be exploited to include things like the name of the entity within the
      report.</p><p>These points are illustrated in the examples in the next section.</p><p>A catalogue of statistics names and descriptions is available from the REST API documentation available
      through the <a class="link" href="Java-Broker-Management-Channel-Web-Console.html" title="6.2.&#160;Web Management Console">Web Management Console</a>.</p></div><div class="navfooter"><hr /><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="Java-Broker-Appendix-Statistics-Reporting.html">Prev</a>&#160;</td><td align="center" width="20%"><a accesskey="u" href="Java-Broker-Appendix-Statistics-Reporting.html">Up</a></td><td align="right" width="40%">&#160;<a accesskey="n" href="apds03.html">Next</a></td></tr><tr><td align="left" valign="top" width="40%">Appendix&#160;D.&#160;Statistics Reporting&#160;</td><td align="center" width="20%"><a accesskey="h" href="Apache-Qpid-Broker-J-Book.html">Home</a></td><td align="right" valign="top" width="40%">&#160;D.3.&#160;Examples</td></tr></table></div></div>