<div class="docbook"><div class="navheader"><table summary="Navigation header" width="100%"><tr><th align="center" colspan="3">Chapter&#160;10.&#160;System Properties</th></tr><tr><td align="left" width="20%"><a accesskey="p" href="JMS-Client-Message-Encryption-Example.html">Prev</a>&#160;</td><th align="center" width="60%">&#160;</th><td align="right" width="20%">&#160;<a accesskey="n" href="JMS-Client-0-8-Logging.html">Next</a></td></tr></table><hr /></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="JMS-Client-0-8-System-Properties"></a>Chapter&#160;10.&#160;System Properties</h1></div></div></div><p>The following system properties affect the behaviour of the Client. System
		properties are global in nature so affect all Qpid interactions made from within the same
		JVM. For many options, there are equivalent <a class="link" href="JMS-Client-0-8-Connection-URL.html" title="Chapter&#160;7.&#160;Connection URLs">Connection URL</a> options allowing the option to be controlled at the level of the
		Connection.</p><div class="table"><a id="d0e2179"></a><p class="title"><strong>Table&#160;10.1.&#160;System Properties Affecting Connection Behaviour</strong></p><div class="table-contents"><table border="1" summary="System Properties Affecting Connection Behaviour" width="100%"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Property Name</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td>qpid.amqp.version</td><td>string</td><td>0-10</td><td><p>Sets the AMQP version to be used - currently supports one of
							{0-8,0-9,0-91,0-10}.</p><p>The client will begin negotiation at
							the specified version and only negotiate downwards if the Broker does
							not support the specified version.</p></td></tr><tr><td><a id="JMS-Client-0-8-System-Properties-Heartbeat"></a>qpid.heartbeat</td><td>int</td><td><p>Defaults to the heartbeat value suggested by the Broker, if
							any.</p></td><td>Frequency of heartbeat messages (in seconds). A value of 0 disables
						heartbeating. <p>Two consecutive missed heartbeats will result in the
							connection timing out.</p><p>This can also be set per connection
							using the <a class="link" href="JMS-Client-0-8-Connection-URL.html#JMS-Client-0-8-Connection-URL-BrokerOptions-Heartbeat">Connection URL</a> options.</p><p>For compatibility with
							old client configuration, the synonym
								<code class="varname">amqj.heartbeat.delay</code> is supported.</p></td></tr><tr><td>ignore_setclientID</td><td>boolean</td><td>false</td><td>If a client ID is specified in the connection URL it's used or else an ID
						is generated. If an ID is specified after it's been set Qpid will throw an
						exception. <p>Setting this property to 'true' will disable that check and
							allow you to set a client ID of your choice later on.</p></td></tr><tr><td>qpid.connection_ssl_verify_hostname</td><td>boolean</td><td>true</td><td>This property is used to turn on/off broker host name verification on SSL negotiation
                        if SSL transport is used. It is set to 'true' by default.
                        <p>Setting this property to 'false' will disable that check and
                            allow you to ignore host name errors.</p></td></tr><tr><td><a id="JMS-Client-0-8-System-Properties-ConnectionCompressMessages"></a>qpid.connection_compress_messages</td><td>Boolean</td><td>false</td><td><p>Controls whether the client will compress messages before they they are sent.</p></td></tr><tr><td><a id="JMS-Client-0-8-System-Properties-MessageCompressionThresholdSize"></a>qpid.message_compression_threshold_size</td><td>Integer</td><td>102400</td><td><p>The payload size beyond which the client will start to compress message payloads.</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="d0e2270"></a><p class="title"><strong>Table&#160;10.2.&#160;Config Options For Session Behaviour</strong></p><div class="table-contents"><table border="1" summary="Config Options For Session Behaviour" width="100%"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Property Name</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><a id="JMS-Client-0-8-System-Properties-DestSyntax"></a>qpid.dest_syntax</td><td>String</td><td>ADDR</td><td><p>Addressing syntax: ADDR (Address format) or BURL (Binding URL)</p></td></tr><tr><td><a id="JMS-Client-0-8-System-Properties-Maxprefetch"></a>max_prefetch</td><td>int</td><td>500</td><td><p>Maximum number of pre-fetched messages per Session. This can also
							be defaulted for sessions created on a particular connection using the
								<a class="link" href="JMS-Client-0-8-Connection-URL.html#JMS-Client-0-8-Connection-URL-ConnectionOptions-Maxprefetch">Connection URL</a> options.</p></td></tr><tr><td>qpid.use_legacy_map_message</td><td>boolean</td><td>false</td><td><p>If set will use the old map message encoding. By default the Map
							messages are encoded using the 0-10 map encoding.</p><p>This can
							also be set per connection using the <a class="link" href="JMS-Client-0-8-Connection-URL.html#JMS-Client-0-8-Connection-URL-ConnectionOptions-UseLegacyMap">Connection URL</a> options.</p></td></tr><tr><td>qpid.jms.daemon.dispatcher</td><td>boolean</td><td>false</td><td><p>Controls whether the Session dispatcher thread is a daemon thread
							or not. If this system property is set to true then the Session
							dispatcher threads will be created as daemon threads. This setting is
							introduced in version 0.16.</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="d0e2335"></a><p class="title"><strong>Table&#160;10.3.&#160;Config Options For Consumer Behaviour</strong></p><div class="table-contents"><table border="1" summary="Config Options For Consumer Behaviour" width="100%"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Property Name</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><a id="JMS-Client-0-8-System-Properties-DeclareExchanges"></a>qpid.declare_exchanges</td><td>Boolean</td><td>true</td><td><p>If true, creating a consumer will also declare the exchange on the
							Broker (specified within the Binding URL associated with the
							Destination), creating it if is does not already exist.
						</p></td></tr><tr><td><a id="JMS-Client-0-8-System-Properties-DeclareQueues"></a>qpid.declare_queues</td><td>Boolean</td><td>true</td><td><p>If true, creating a consumer will also declare the queue on the
							Broker (specified within the Binding URL associated with the
							Destination), creating it if is does not already
						exist.</p></td></tr><tr><td><a id="JMS-Client-0-8-System-Properties-BindQueues"></a>qpid.bind_queues</td><td>Boolean</td><td>true</td><td><p>If true, creating a consumer will also bind the queue to the
							to the exchange using the routing key as a binding key. The
							exchange name, queue name and routing key are taken from
							the Binding URL associated with the Destination.</p></td></tr><tr><td><a id="JMS-Client-0-8-System-Properties-RejectBehaviour"></a>qpid.reject.behaviour</td><td>String</td><td>NORMAL</td><td><p>Used with the maximum delivery count feature. See <a class="xref" href="JMS-Client-0-8-Client-Understanding-MessageConsumer.html#JMS-Client-0-8-Client-Understanding-MessageConsumer-MaximumDeliveryCount" title="5.6.3.&#160;Maximum Delivery Count">Section&#160;5.6.3, &#8220;Maximum Delivery Count&#8221;</a> for details.</p></td></tr><tr><td>sync_client_ack</td><td>boolean</td><td>true</td><td>
						<p>
							If set <code class="literal">true</code>, for sessions using <a class="link" href="http://docs.oracle.com/javaee/6/api/javax/jms/Session.html#CLIENT_ACKNOWLEDGE" target="_top">Session#CLIENT_ACKNOWLEDGE</a>,
							a sync command is sent after every message <a class="link" href="http://docs.oracle.com/javaee/6/api/javax/jms/Message.html#acknowledge()" target="_top">Message#acknowledge()</a>.
							This ensure that the client awaits the successful processing of the acknowledgement by server before continuing.
						</p>
						<p>If <code class="literal">false</code>, the sync is not performed.  This will improve performance but will mean
							duplicate messages are more likely to be received following a failure.
						</p>
						<p>This can also be set per connection using the <a class="link" href="JMS-Client-0-8-Connection-URL.html" title="Chapter&#160;7.&#160;Connection URLs">
							Connection URL</a> options.</p>
					</td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="d0e2427"></a><p class="title"><strong>Table&#160;10.4.&#160;Config Options For Producer Behaviour</strong></p><div class="table-contents"><table border="1" summary="Config Options For Producer Behaviour" width="100%"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Property Name</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><a id="JMS-Client-0-8-System-Properties-DefaultMandatory"></a>qpid.default_mandatory</td><td>Boolean</td><td>True</td><td><p>If true, messages sent to Queue destinations for which cannot be
							routed to at least one queue on the Broker, will be returned to the
							application. See <a class="xref" href="JMS-Client-0-8-Client-Understanding-MessageProducer.html#JMS-Client-0-8-Client-Understanding-MessageProducer-MandatoryMessage" title="5.5.1.&#160;Mandatory Messages">Section&#160;5.5.1, &#8220;Mandatory Messages&#8221;</a> for more details.</p></td></tr><tr><td><a id="JMS-Client-0-8-System-Properties-DefaultMandatoryTopic"></a>qpid.default_mandatory_topic</td><td>Boolean</td><td>False</td><td><p>If true, messages sent to Topic destinations for which cannot be
							routed to at least one queue on the Broker, will be returned to the
							application. See <a class="xref" href="JMS-Client-0-8-Client-Understanding-MessageProducer.html#JMS-Client-0-8-Client-Understanding-MessageProducer-MandatoryMessage" title="5.5.1.&#160;Mandatory Messages">Section&#160;5.5.1, &#8220;Mandatory Messages&#8221;</a> for more details..</p></td></tr><tr><td><a id="JMS-Client-0-8-System-Properties-DefaultImmediate"></a>qpid.default_immediate</td><td>Boolean</td><td>False</td><td><p>If true, the message will be returned to the application unless the
							Broker is able to route the message to at least one queue with a
							consumer attached. See <a class="xref" href="JMS-Client-0-8-Client-Understanding-MessageProducer.html#JMS-Client-0-8-Client-Understanding-MessageProducer-ImmediateMessage" title="5.5.3.&#160;Immediate Messages">Section&#160;5.5.3, &#8220;Immediate Messages&#8221;</a> for more details.</p></td></tr><tr><td><a id="JMS-Client-0-8-System-Properties-FlowControlWaitFailure"></a>qpid.flow_control_wait_failure</td><td>Long</td><td>60000</td><td><p>Used with <a class="xref" href="JMS-Client-0-8-Client-Understanding-MessageProducer.html#JMS-Client-0-8-Client-Understanding-MessageProducer-FlowControl" title="5.5.4.&#160;Flow Control">Section&#160;5.5.4, &#8220;Flow Control&#8221;</a>. The amount of time (in milliseconds) to wait before timing
							out.</p></td></tr><tr><td><a id="JMS-Client-0-8-System-Properties-FlowControlWaitNotifyPeriod"></a>qpid.flow_control_wait_notify_period</td><td>Long</td><td>5000</td><td><p>Used with <a class="xref" href="JMS-Client-0-8-Client-Understanding-MessageProducer.html#JMS-Client-0-8-Client-Understanding-MessageProducer-FlowControl" title="5.5.4.&#160;Flow Control">Section&#160;5.5.4, &#8220;Flow Control&#8221;</a>. The frequency at which the log message informing that the producer
							is flow controlled .</p></td></tr><tr><td><a id="JMS-Client-0-8-System-Properties-SyncPublish"></a>sync_publish</td><td>string</td><td>"" (disabled)</td><td>
					  <p>If 'all' is set then messages will be sent synchronously.</p>
                      <p>This can also be set per connection using the
                        <a class="link" href="JMS-Client-0-8-Connection-URL.html#JMS-Client-0-8-Connection-URL-ConnectionOptions-SyncPublish">
                          Connection URL
                        </a>
                        options.
                      </p>
                    </td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="d0e2520"></a><p class="title"><strong>Table&#160;10.5.&#160;Config Options For Threading</strong></p><div class="table-contents"><table border="1" summary="Config Options For Threading" width="100%"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Property Name</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td>qpid.thread_factory</td><td>string</td><td>org.apache.qpid.thread.DefaultThreadFactory</td><td><p>Specifies the thread factory to use.</p><p>If using a real
							time JVM, you need to set the above property to
								<code class="varname">org.apache.qpid.thread.RealtimeThreadFactory</code>.</p></td></tr><tr><td>qpid.rt_thread_priority</td><td>int</td><td>20</td><td><p>Specifies the priority (1-99) for Real time threads created by the
							real time thread factory.</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="d0e2560"></a><p class="title"><strong>Table&#160;10.6.&#160;Config Options For I/O</strong></p><div class="table-contents"><table border="1" summary="Config Options For I/O" width="100%"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Property Name</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td><a id="JMS-Client-0-8-System-Properties-SyncOpTimeout"></a>qpid.sync_op_timeout</td><td>long</td><td>60000</td><td><p>The length of time (in milliseconds) to wait for a synchronous
							operation to complete.</p><p>For compatibility with older clients,
							the synonym <code class="varname">amqj.default_syncwrite_timeout</code> is
							supported.</p></td></tr><tr><td>qpid.tcp_nodelay</td><td>boolean</td><td>true</td><td>
						<p>Sets the TCP_NODELAY property of the underlying socket. The default
							was changed to true as of Qpid 0.14.</p>
						<p>This can also be set per connection using the Connection URL broker
								option<a class="link" href="JMS-Client-0-8-Connection-URL.html#JMS-Client-0-8-Connection-URL-BrokerOptions-TcpNoDelay"><code class="literal">tcp_nodelay</code>.</a> options.</p>
						<p>For compatibility with older clients, the synonym
								<code class="varname">amqj.tcp_nodelay</code> is supported.</p>
					</td></tr><tr><td>qpid.send_buffer_size</td><td>integer</td><td>65535</td><td>
						<p>Sets the SO_SNDBUF property of the underlying socket. Added in Qpid
							0.16.</p>
						<p>For compatibility with older clients, the synonym
								<code class="varname">amqj.sendBufferSize</code> is supported.</p>
					</td></tr><tr><td>qpid.receive_buffer_size</td><td>integer</td><td>65535</td><td>
						<p>Sets the SO_RCVBUF property of the underlying socket. Added in Qpid
							0.16.</p>
						<p>For compatibility with older clients, the synonym
								<code class="varname">amqj.receiveBufferSize</code> is supported.</p>
					</td></tr><tr><td>qpid.failover_method_timeout</td><td>long</td><td>60000</td><td>
						<p>During failover, this is the timeout for each attempt to try to
							re-establish the connection. If a reconnection attempt exceeds the
							timeout, the entire failover process is aborted.</p>
						<p>It is only applicable for AMQP 0-8/0-9/0-9-1 clients.</p>
					</td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="d0e2667"></a><p class="title"><strong>Table&#160;10.7.&#160;Config Options For Security</strong></p><div class="table-contents"><table border="1" summary="Config Options For Security" width="100%"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Property Name</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td>qpid.sasl_mechs</td><td>string</td><td>&#160;</td><td><p>Restriction on the SASL mechanisms which can be used.
						More than one could be specified as
						a space separated list.</p><p>We currently support the following
						mechanisms: PLAIN GSSAPI EXTERNAL SCRAM-SHA-256 SCRAM-SHA-1 XOAUTH2 CRAM-MD5 XOAUTH2 ANONYMOUS.</p>
						<p>This can also be set per connection using the
						<a class="link" href="JMS-Client-0-8-Connection-URL.html" title="Chapter&#160;7.&#160;Connection URLs">Connection URL</a> options.</p>
					</td></tr><tr><td>qpid.sasl_protocol</td><td>string</td><td>AMQP</td><td><p>When using GSSAPI as the SASL mechanism,
						<code class="varname">sasl_protocol</code> must be set to the principal for
						the qpid broker, e.g. <code class="varname">qpidd</code>.</p><p>This can
						also be set per connection using the <a class="link" href="JMS-Client-0-8-Connection-URL.html" title="Chapter&#160;7.&#160;Connection URLs">Connection URL</a>
						options.</p></td></tr><tr><td>qpid.sasl_server_name</td><td>string</td><td>localhost</td><td><p>When using GSSAPI as the SASL mechanism,
						<code class="varname">sasl_server</code> must be set to the host for the SASL
						server, e.g. <code class="varname">example.com</code>.</p><p>This can also
						be set per connection using the <a class="link" href="JMS-Client-0-8-Connection-URL.html" title="Chapter&#160;7.&#160;Connection URLs">Connection URL</a>
						options.</p></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="d0e2742"></a><p class="title"><strong>Table&#160;10.8.&#160;Config Options For Security - Standard JVM properties needed when using GSSAPI as the
			SASL mechanism.<a class="footnote" href="#ftn.d0e2745" id="d0e2745"><sup class="footnote">[a]</sup></a></strong></p><div class="table-contents"><table border="1" summary="Config Options For Security - Standard JVM properties needed when using GSSAPI as the&#10;			SASL mechanism.Please refer to the Java security documentation for a complete understanding&#10;					of the above properties." width="100%"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Property Name</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td>javax.security.auth.useSubjectCredsOnly</td><td>boolean</td><td>true</td><td><p>If set to 'false', forces the SASL GASSPI client to obtain the
							kerberos credentials explicitly instead of obtaining from the "subject"
							that owns the current thread.</p></td></tr><tr><td>java.security.auth.login.config</td><td>string</td><td>&#160;</td><td><p>Specifies the jass configuration
								file.</p><p><code class="varname">Ex-Djava.security.auth.login.config=myjas.conf</code>
						</p><p>Here is the sample myjas.conf JASS configuration file: </p><pre class="programlisting">

		com.sun.security.jgss.initiate {
		com.sun.security.auth.module.Krb5LoginModule required useTicketCache=true;
		};

		</pre></td></tr></tbody><tbody class="footnotes"><tr><td colspan="4"><div class="footnote" id="ftn.d0e2745"><p><a class="para" href="#d0e2745"><sup class="para">[a] </sup></a>Please refer to the Java security documentation for a complete understanding
					of the above properties.</p></div></td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="d0e2787"></a><p class="title"><strong>Table&#160;10.9.&#160;Config Options For Security - Using SSL for securing connections or using EXTERNAL as
			the SASL mechanism.</strong></p><div class="table-contents"><table border="1" summary="Config Options For Security - Using SSL for securing connections or using EXTERNAL as&#10;			the SASL mechanism." width="100%"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Property Name</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td>qpid.ssl_timeout</td><td>long</td><td>60000</td><td><p>Timeout value used by the Java SSL engine when waiting on
							operations.</p></td></tr><tr><td>qpid.ssl.KeyManagerFactory.algorithm</td><td>string</td><td>-</td><td>
						<p>The key manager factory algorithm name. If not set, defaults to the
							value returned from the Java runtime call
								<code class="literal">KeyManagerFactory.getDefaultAlgorithm()</code></p>
						<p>For compatibility with older clients, the synonym
								<code class="varname">qpid.ssl.keyStoreCertType</code> is supported.</p>
					</td></tr><tr><td>qpid.ssl.TrustManagerFactory.algorithm</td><td>string</td><td>-</td><td>
						<p>The trust manager factory algorithm name. If not set, defaults to the
							value returned from the Java runtime call
								<code class="literal">TrustManagerFactory.getDefaultAlgorithm()</code></p>
						<p>For compatibility with older clients, the synonym
								<code class="varname">qpid.ssl.trustStoreCertType</code> is supported.</p>
					</td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="d0e2852"></a><p class="title"><strong>Table&#160;10.10.&#160;Config Options For Security - Standard JVM properties needed when Using SSL for
			securing connections or using EXTERNAL as the SASL mechanism.<a class="footnote" href="#ftn.d0e2855" id="d0e2855"><sup class="footnote">[a]</sup></a></strong></p><div class="table-contents"><table border="1" summary="Config Options For Security - Standard JVM properties needed when Using SSL for&#10;			securing connections or using EXTERNAL as the SASL mechanism.Qpid allows you to have per connection key and trust stores if required. If&#10;					specified per connection, the JVM arguments are ignored." width="100%"><colgroup><col /><col /><col /><col /></colgroup><thead><tr><th>Property Name</th><th>Type</th><th>Default Value</th><th>Description</th></tr></thead><tbody><tr><td>javax.net.ssl.keyStore</td><td>string</td><td>jvm default</td><td><p>Specifies the key store path.</p><p>This can also be set per
							connection using the <a class="link" href="JMS-Client-0-8-Connection-URL.html" title="Chapter&#160;7.&#160;Connection URLs">Connection URL</a> options.</p></td></tr><tr><td>javax.net.ssl.keyStorePassword</td><td>string</td><td>jvm default</td><td><p>Specifies the key store password.</p><p>This can also be set
							per connection using the <a class="link" href="JMS-Client-0-8-Connection-URL.html" title="Chapter&#160;7.&#160;Connection URLs">Connection URL</a> options.</p></td></tr><tr><td>javax.net.ssl.trustStore</td><td>string</td><td>jvm default</td><td><p>Specifies the trust store path.</p><p>This can also be set
							per connection using the <a class="link" href="JMS-Client-0-8-Connection-URL.html" title="Chapter&#160;7.&#160;Connection URLs">Connection URL</a> options.</p></td></tr><tr><td>javax.net.ssl.trustStorePassword</td><td>string</td><td>jvm default</td><td><p>Specifies the trust store password.</p><p>This can also be
							set per connection using the <a class="link" href="JMS-Client-0-8-Connection-URL.html" title="Chapter&#160;7.&#160;Connection URLs">Connection URL</a>
							options.</p></td></tr></tbody><tbody class="footnotes"><tr><td colspan="4"><div class="footnote" id="ftn.d0e2855"><p><a class="para" href="#d0e2855"><sup class="para">[a] </sup></a>Qpid allows you to have per connection key and trust stores if required. If
					specified per connection, the JVM arguments are ignored.</p></div></td></tr></tbody></table></div></div><br class="table-break" /></div><div class="navfooter"><hr /><table summary="Navigation footer" width="100%"><tr><td align="left" width="40%"><a accesskey="p" href="JMS-Client-Message-Encryption-Example.html">Prev</a>&#160;</td><td align="center" width="20%">&#160;</td><td align="right" width="40%">&#160;<a accesskey="n" href="JMS-Client-0-8-Logging.html">Next</a></td></tr><tr><td align="left" valign="top" width="40%">9.4.&#160;Message Encryption Example&#160;</td><td align="center" width="20%"><a accesskey="h" href="JMS-Client-Book.html">Home</a></td><td align="right" valign="top" width="40%">&#160;Chapter&#160;11.&#160;Logging</td></tr></table></div></div>