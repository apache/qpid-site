<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>C AMQP Protocol Engine API: proton/ssl.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">C AMQP Protocol Engine API
   &#160;<span id="projectnumber">0.6</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ssl_8h.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ssl.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="import__export_8h_source.html">proton/import_export.h</a>&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;stdbool.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="engine_8h_source.html">proton/engine.h</a>&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for ssl.h:</div>
<div class="dyncontent">
<div class="center"><img src="ssl_8h__incl.png" border="0" usemap="#proton_2ssl_8h" alt=""/></div>
<map name="proton_2ssl_8h" id="proton_2ssl_8h">
<area shape="rect" id="node2" href="import__export_8h.html" title="proton/import_export.h" alt="" coords="643,379,795,405"/><area shape="rect" id="node5" href="engine_8h.html" title="proton/engine.h" alt="" coords="203,80,313,107"/><area shape="rect" id="node7" href="codec_8h.html" title="proton/codec.h" alt="" coords="378,155,485,181"/><area shape="rect" id="node12" href="error_8h.html" title="proton/error.h" alt="" coords="659,229,757,256"/><area shape="rect" id="node8" href="object_8h.html" title="proton/object.h" alt="" coords="425,229,532,256"/><area shape="rect" id="node9" href="types_8h.html" title="proton/types.h" alt="" coords="355,304,460,331"/></map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="ssl_8h__dep__incl.png" border="0" usemap="#proton_2ssl_8hdep" alt=""/></div>
<map name="proton_2ssl_8hdep" id="proton_2ssl_8hdep">
<area shape="rect" id="node2" href="driver_8h.html" title="proton/driver.h" alt="" coords="5,80,109,107"/></map>
</div>
</div>
<p><a href="ssl_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aba83c3a1779c8b35a479bf3a7bb5b175"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a></td></tr>
<tr class="separator:aba83c3a1779c8b35a479bf3a7bb5b175"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a215da63662423b00d34605ba4f9761f5"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a></td></tr>
<tr class="separator:a215da63662423b00d34605ba4f9761f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a0f1d40875c45b14a31a77f27430bc225"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#a0f1d40875c45b14a31a77f27430bc225">pn_ssl_mode_t</a> { <a class="el" href="ssl_8h.html#a0f1d40875c45b14a31a77f27430bc225a4e2fe24fcd2692e4c20c27668091a49c">PN_SSL_MODE_CLIENT</a> =1, 
<a class="el" href="ssl_8h.html#a0f1d40875c45b14a31a77f27430bc225a0c4550c70a6bc74cb906a74c5f1e5078">PN_SSL_MODE_SERVER</a>
 }</td></tr>
<tr class="separator:a0f1d40875c45b14a31a77f27430bc225"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af175c116d52a91001f9a3559b580f56d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#af175c116d52a91001f9a3559b580f56d">pn_ssl_resume_status_t</a> { <a class="el" href="ssl_8h.html#af175c116d52a91001f9a3559b580f56dad1385651f6078177d6652c385453280d">PN_SSL_RESUME_UNKNOWN</a>, 
<a class="el" href="ssl_8h.html#af175c116d52a91001f9a3559b580f56dac8a5515a69c89007f681b3c555328e8f">PN_SSL_RESUME_NEW</a>, 
<a class="el" href="ssl_8h.html#af175c116d52a91001f9a3559b580f56dabb1b88b78dcb91ee80cd6f0eb5873d6d">PN_SSL_RESUME_REUSED</a>
 }</td></tr>
<tr class="separator:af175c116d52a91001f9a3559b580f56d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5e33024ed6af3432d4c76d1484d7ecb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#ae5e33024ed6af3432d4c76d1484d7ecb">pn_ssl_verify_mode_t</a> { <a class="el" href="ssl_8h.html#ae5e33024ed6af3432d4c76d1484d7ecbada1e3837cc900bd6419de72c25b253cc">PN_SSL_VERIFY_NULL</a> =0, 
<a class="el" href="ssl_8h.html#ae5e33024ed6af3432d4c76d1484d7ecbad80276abde5d95760c63d0b9685d4d44">PN_SSL_VERIFY_PEER</a>, 
<a class="el" href="ssl_8h.html#ae5e33024ed6af3432d4c76d1484d7ecbafa6dbe705dd0366ff4799616f788a9f5">PN_SSL_ANONYMOUS_PEER</a>, 
<a class="el" href="ssl_8h.html#ae5e33024ed6af3432d4c76d1484d7ecbaac956f0febf05ab579de839700895e36">PN_SSL_VERIFY_PEER_NAME</a>
 }</td></tr>
<tr class="separator:ae5e33024ed6af3432d4c76d1484d7ecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abc9e5e64b23bf03316aa825ba036fb4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> <a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#abc9e5e64b23bf03316aa825ba036fb4f">pn_ssl_domain</a> (<a class="el" href="ssl_8h.html#a0f1d40875c45b14a31a77f27430bc225">pn_ssl_mode_t</a> mode)</td></tr>
<tr class="separator:abc9e5e64b23bf03316aa825ba036fb4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f0254dda9b35b5af99e744be243daaf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#a2f0254dda9b35b5af99e744be243daaf">pn_ssl_domain_free</a> (<a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a> *domain)</td></tr>
<tr class="separator:a2f0254dda9b35b5af99e744be243daaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ab7d6272502515a8894eca3f5efe85b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#a8ab7d6272502515a8894eca3f5efe85b">pn_ssl_domain_set_credentials</a> (<a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a> *domain, const char *certificate_file, const char *private_key_file, const char *password)</td></tr>
<tr class="separator:a8ab7d6272502515a8894eca3f5efe85b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20761fc3f72ab4d947a7c468a43758c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#a20761fc3f72ab4d947a7c468a43758c9">pn_ssl_domain_set_trusted_ca_db</a> (<a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a> *domain, const char *certificate_db)</td></tr>
<tr class="separator:a20761fc3f72ab4d947a7c468a43758c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba0321d3d8cd67c601b604a5b42a190"><td class="memItemLeft" align="right" valign="top"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#acba0321d3d8cd67c601b604a5b42a190">pn_ssl_domain_set_peer_authentication</a> (<a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a> *domain, const <a class="el" href="ssl_8h.html#ae5e33024ed6af3432d4c76d1484d7ecb">pn_ssl_verify_mode_t</a> mode, const char *trusted_CAs)</td></tr>
<tr class="separator:acba0321d3d8cd67c601b604a5b42a190"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf33cfae6dcd6513da926eff993896d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#a7bf33cfae6dcd6513da926eff993896d">pn_ssl_domain_allow_unsecured_client</a> (<a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a> *domain)</td></tr>
<tr class="separator:a7bf33cfae6dcd6513da926eff993896d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace9c2c01043714e64fe97a390ffeac87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> <a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#ace9c2c01043714e64fe97a390ffeac87">pn_ssl</a> (<a class="el" href="engine_8h.html#ac26eda05f649bbf0399f3d8d78d12fa8">pn_transport_t</a> *transport)</td></tr>
<tr class="separator:ace9c2c01043714e64fe97a390ffeac87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5f8d77f86808ae8401691bcd17daa77"><td class="memItemLeft" align="right" valign="top"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#ac5f8d77f86808ae8401691bcd17daa77">pn_ssl_init</a> (<a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a> *ssl, <a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a> *domain, const char *session_id)</td></tr>
<tr class="separator:ac5f8d77f86808ae8401691bcd17daa77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ea4334e4925b50cb6c6daa4795cdfa0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#a7ea4334e4925b50cb6c6daa4795cdfa0">pn_ssl_get_cipher_name</a> (<a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a> *ssl, char *buffer, size_t size)</td></tr>
<tr class="separator:a7ea4334e4925b50cb6c6daa4795cdfa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1636bdfcc884dbae248f0316ae2a076f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#a1636bdfcc884dbae248f0316ae2a076f">pn_ssl_get_protocol_name</a> (<a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a> *ssl, char *buffer, size_t size)</td></tr>
<tr class="separator:a1636bdfcc884dbae248f0316ae2a076f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a543c4d6b34f107f41a2812b15e370523"><td class="memItemLeft" align="right" valign="top"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> <a class="el" href="ssl_8h.html#af175c116d52a91001f9a3559b580f56d">pn_ssl_resume_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#a543c4d6b34f107f41a2812b15e370523">pn_ssl_resume_status</a> (<a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a> *ssl)</td></tr>
<tr class="separator:a543c4d6b34f107f41a2812b15e370523"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a733943a1e722653b5c1f36b7de670ee5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#a733943a1e722653b5c1f36b7de670ee5">pn_ssl_set_peer_hostname</a> (<a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a> *ssl, const char *hostname)</td></tr>
<tr class="separator:a733943a1e722653b5c1f36b7de670ee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc678b1162484ec8eeddba8b594b1f74"><td class="memItemLeft" align="right" valign="top"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ssl_8h.html#abc678b1162484ec8eeddba8b594b1f74">pn_ssl_get_peer_hostname</a> (<a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a> *ssl, char *hostname, size_t *bufsize)</td></tr>
<tr class="separator:abc678b1162484ec8eeddba8b594b1f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>API for using SSL with the Transport Layer.</p>
<p>A Transport may be configured to use SSL for encryption and/or authentication. A Transport can be configured as either an "SSL client" or an "SSL server". An SSL client is the party that proactively establishes a connection to an SSL server. An SSL server is the party that accepts a connection request from a remote SSL client.</p>
<p>This SSL implementation defines the following objects:</p>
<ul>
<li>A top-level object that stores the configuration used by one or more SSL sessions (pn_ssl_domain_t). </li>
<li>A per-connection SSL session object that performs the encryption/authentication associated with the transport (pn_ssl_t). </li>
<li>The encryption parameters negotiated for the SSL session (pn_ssl_state_t).</li>
</ul>
<p>A pn_ssl_domain_t object must be created and configured before an SSL session can be established. The pn_ssl_domain_t is used to construct an SSL session (pn_ssl_t). The session "adopts" its configuration from the pn_ssl_domain_t that was used to create it. For example, pn_ssl_domain_t can be configured as either a "client" or a "server". SSL sessions constructed from this domain will perform the corresponding role (either client or server).</p>
<p>Some per-session attributes - such as peer verification mode - may be overridden on a per-session basis from the default provided by the parent pn_ssl_domain_t.</p>
<p>If either an SSL server or client needs to identify itself with the remote node, it must have its SSL certificate configured (see <a class="el" href="ssl_8h.html#a8ab7d6272502515a8894eca3f5efe85b">pn_ssl_domain_set_credentials()</a>).</p>
<p>If either an SSL server or client needs to verify the identity of the remote node, it must have its database of trusted CAs configured (see <a class="el" href="ssl_8h.html#a20761fc3f72ab4d947a7c468a43758c9">pn_ssl_domain_set_trusted_ca_db()</a>).</p>
<p>An SSL server connection may allow the remote client to connect without SSL (eg. "in
the clear"), see ::pn_ssl_allow_unsecured_client().</p>
<p>The level of verification required of the remote may be configured (see ::pn_ssl_domain_set_default_peer_authentication ::pn_ssl_set_peer_authentication, ::pn_ssl_get_peer_authentication).</p>
<p>Support for SSL Client Session resume is provided (see ::pn_ssl_get_state, ::pn_ssl_resume_state). </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="aba83c3a1779c8b35a479bf3a7bb5b175"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a> <a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a215da63662423b00d34605ba4f9761f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a> <a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a0f1d40875c45b14a31a77f27430bc225"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ssl_8h.html#a0f1d40875c45b14a31a77f27430bc225">pn_ssl_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines the type of SSL endpoint. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a0f1d40875c45b14a31a77f27430bc225a4e2fe24fcd2692e4c20c27668091a49c"></a>PN_SSL_MODE_CLIENT</em>&nbsp;</td><td class="fielddoc">
<p>Local connection endpoint is an SSL client </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a0f1d40875c45b14a31a77f27430bc225a0c4550c70a6bc74cb906a74c5f1e5078"></a>PN_SSL_MODE_SERVER</em>&nbsp;</td><td class="fielddoc">
<p>Local connection endpoint is an SSL server </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="af175c116d52a91001f9a3559b580f56d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ssl_8h.html#af175c116d52a91001f9a3559b580f56d">pn_ssl_resume_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicates whether an SSL session has been resumed. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="af175c116d52a91001f9a3559b580f56dad1385651f6078177d6652c385453280d"></a>PN_SSL_RESUME_UNKNOWN</em>&nbsp;</td><td class="fielddoc">
<p>Session resume state unknown/not supported </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="af175c116d52a91001f9a3559b580f56dac8a5515a69c89007f681b3c555328e8f"></a>PN_SSL_RESUME_NEW</em>&nbsp;</td><td class="fielddoc">
<p>Session renegotiated - not resumed </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="af175c116d52a91001f9a3559b580f56dabb1b88b78dcb91ee80cd6f0eb5873d6d"></a>PN_SSL_RESUME_REUSED</em>&nbsp;</td><td class="fielddoc">
<p>Session resumed from previous session. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ae5e33024ed6af3432d4c76d1484d7ecb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ssl_8h.html#ae5e33024ed6af3432d4c76d1484d7ecb">pn_ssl_verify_mode_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines the level of peer validation.</p>
<p>ANONYMOUS_PEER does not require a valid certificate, and permits use of ciphers that do not provide authentication.</p>
<p>VERIFY_PEER will only connect to those peers that provide a valid identifying certificate signed by a trusted CA and are using an authenticated cipher.</p>
<p>VERIFY_PEER_NAME is like VERIFY_PEER, but also requires the peer's identity as contained in the certificate to be valid (see <a class="el" href="ssl_8h.html#a733943a1e722653b5c1f36b7de670ee5">pn_ssl_set_peer_hostname</a>).</p>
<p>ANONYMOUS_PEER is configured by default. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ae5e33024ed6af3432d4c76d1484d7ecbada1e3837cc900bd6419de72c25b253cc"></a>PN_SSL_VERIFY_NULL</em>&nbsp;</td><td class="fielddoc">
<p>internal use only </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ae5e33024ed6af3432d4c76d1484d7ecbad80276abde5d95760c63d0b9685d4d44"></a>PN_SSL_VERIFY_PEER</em>&nbsp;</td><td class="fielddoc">
<p>require peer to provide a valid identifying certificate </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ae5e33024ed6af3432d4c76d1484d7ecbafa6dbe705dd0366ff4799616f788a9f5"></a>PN_SSL_ANONYMOUS_PEER</em>&nbsp;</td><td class="fielddoc">
<p>do not require a certificate nor cipher authorization </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ae5e33024ed6af3432d4c76d1484d7ecbaac956f0febf05ab579de839700895e36"></a>PN_SSL_VERIFY_PEER_NAME</em>&nbsp;</td><td class="fielddoc">
<p>require valid certificate and matching name </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ace9c2c01043714e64fe97a390ffeac87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> <a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a>* pn_ssl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="engine_8h.html#ac26eda05f649bbf0399f3d8d78d12fa8">pn_transport_t</a> *&#160;</td>
          <td class="paramname"><em>transport</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a new SSL session object associated with a transport.</p>
<p>A transport must have an SSL object in order to "speak" SSL over its connection. This method allocates an SSL object associates it with the transport.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">transport</td><td>the transport that will own the new SSL session. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the SSL object configured for this transport. Returns NULL if no SSL session is associated with the transport. </dd></dl>

</div>
</div>
<a class="anchor" id="abc9e5e64b23bf03316aa825ba036fb4f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> <a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a>* pn_ssl_domain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssl_8h.html#a0f1d40875c45b14a31a77f27430bc225">pn_ssl_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create an SSL configuration domain</p>
<p>This method allocates an SSL domain object. This object is used to hold the SSL configuration for one or more SSL sessions. The SSL session object (pn_ssl_t) is allocated from this object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>the role, client or server, assumed by all SSL sessions created with this domain. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to the SSL domain, if SSL support is present. </dd></dl>

</div>
</div>
<a class="anchor" id="a7bf33cfae6dcd6513da926eff993896d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> int pn_ssl_domain_allow_unsecured_client </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a> *&#160;</td>
          <td class="paramname"><em>domain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Permit a server to accept connection requests from non-SSL clients.</p>
<p>This configures the server to "sniff" the incoming client data stream, and dynamically determine whether SSL/TLS is being used. This option is disabled by default: only clients using SSL/TLS are accepted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">domain</td><td>the domain (server) that will accept the client connections. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd></dl>

</div>
</div>
<a class="anchor" id="a2f0254dda9b35b5af99e744be243daaf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> void pn_ssl_domain_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a> *&#160;</td>
          <td class="paramname"><em>domain</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release an SSL configuration domain</p>
<p>This method frees an SSL domain object allocated by <a class="el" href="ssl_8h.html#abc9e5e64b23bf03316aa825ba036fb4f">pn_ssl_domain</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">domain</td><td>the domain to destroy. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8ab7d6272502515a8894eca3f5efe85b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> int pn_ssl_domain_set_credentials </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a> *&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>certificate_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>private_key_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the certificate that identifies the local node to the remote.</p>
<p>This certificate establishes the identity for the local node for all SSL sessions created from this domain. It will be sent to the remote if the remote needs to verify the identity of this node. This may be used for both SSL servers and SSL clients (if client authentication is required by the server).</p>
<dl class="section note"><dt>Note</dt><dd>This setting effects only those pn_ssl_t objects created after this call returns. pn_ssl_t objects created before invoking this method will use the domain's previous setting.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">domain</td><td>the ssl domain that will use this certificate. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">certificate_file</td><td>path to file/database containing the identifying certificate. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">private_key_file</td><td>path to file/database containing the private key used to sign the certificate </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">password</td><td>the password used to sign the key, else NULL if key is not protected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd></dl>

</div>
</div>
<a class="anchor" id="acba0321d3d8cd67c601b604a5b42a190"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> int pn_ssl_domain_set_peer_authentication </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a> *&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="ssl_8h.html#ae5e33024ed6af3432d4c76d1484d7ecb">pn_ssl_verify_mode_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>trusted_CAs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configure the level of verification used on the peer certificate.</p>
<p>This method controls how the peer's certificate is validated, if at all. By default, neither servers nor clients attempt to verify their peers (PN_SSL_ANONYMOUS_PEER). Once certificates and trusted CAs are configured, peer verification can be enabled.</p>
<dl class="section note"><dt>Note</dt><dd>In order to verify a peer, a trusted CA must be configured. See ::pn_ssl_set_trusted_ca_db().</dd>
<dd>
Servers must provide their own certificate when verifying a peer. See ::pn_ssl_set_credentials().</dd>
<dd>
This setting effects only those pn_ssl_t objects created after this call returns. pn_ssl_t objects created before invoking this method will use the domain's previous setting.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">domain</td><td>the ssl domain to configure. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>the level of validation to apply to the peer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">trusted_CAs</td><td>path to a database of trusted CAs that the server will advertise to the peer client if the server has been configured to verify its peer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd></dl>

</div>
</div>
<a class="anchor" id="a20761fc3f72ab4d947a7c468a43758c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> int pn_ssl_domain_set_trusted_ca_db </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a> *&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>certificate_db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configure the set of trusted CA certificates used by this domain to verify peers.</p>
<p>If the local SSL client/server needs to verify the identity of the remote, it must validate the signature of the remote's certificate. This function sets the database of trusted CAs that will be used to verify the signature of the remote's certificate.</p>
<dl class="section note"><dt>Note</dt><dd>This setting effects only those pn_ssl_t objects created after this call returns. pn_ssl_t objects created before invoking this method will use the domain's previous setting.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">domain</td><td>the ssl domain that will use the database. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">certificate_db</td><td>database of trusted CAs, used to authenticate the peer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success </dd></dl>

</div>
</div>
<a class="anchor" id="a7ea4334e4925b50cb6c6daa4795cdfa0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> bool pn_ssl_get_cipher_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a> *&#160;</td>
          <td class="paramname"><em>ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the name of the Cipher that is currently in use.</p>
<p>Gets a text description of the cipher that is currently active, or returns FALSE if SSL is not active (no cipher). Note that the cipher in use may change over time due to renegotiation or other changes to the SSL state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ssl</td><td>the ssl client/server to query. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buffer</td><td>buffer of size bytes to hold cipher name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>maximum number of bytes in buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if cipher name written to buffer, False if no cipher in use. </dd></dl>

</div>
</div>
<a class="anchor" id="abc678b1162484ec8eeddba8b594b1f74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> int pn_ssl_get_peer_hostname </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a> *&#160;</td>
          <td class="paramname"><em>ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>bufsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Access the configured peer identity.</p>
<p>Return the expected identity of the remote peer, as set by <a class="el" href="ssl_8h.html#a733943a1e722653b5c1f36b7de670ee5">pn_ssl_set_peer_hostname</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ssl</td><td>the ssl session. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hostname</td><td>buffer to hold the null-terminated name string. If null, no string is written. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">bufsize</td><td>on input set to the number of octets in hostname. On output, set to the number of octets needed to hold the value of hostname plus a null byte. Zero if no hostname set. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd></dl>

</div>
</div>
<a class="anchor" id="a1636bdfcc884dbae248f0316ae2a076f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> bool pn_ssl_get_protocol_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a> *&#160;</td>
          <td class="paramname"><em>ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the name of the SSL protocol that is currently in use.</p>
<p>Gets a text description of the SSL protocol that is currently active, or returns FALSE if SSL is not active. Note that the protocol may change over time due to renegotiation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ssl</td><td>the ssl client/server to query. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buffer</td><td>buffer of size bytes to hold the version identifier </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>maximum number of bytes in buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the version information was written to buffer, False if SSL connection not ready. </dd></dl>

</div>
</div>
<a class="anchor" id="ac5f8d77f86808ae8401691bcd17daa77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> int pn_ssl_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a> *&#160;</td>
          <td class="paramname"><em>ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ssl_8h.html#aba83c3a1779c8b35a479bf3a7bb5b175">pn_ssl_domain_t</a> *&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>session_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize an SSL session.</p>
<p>This method configures an SSL object using the configuration provided by the given domain.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ssl</td><td>the ssl session to configured. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">domain</td><td>the ssl domain used to configure the SSL session. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">session_id</td><td>if supplied, attempt to resume a previous SSL session that used the same session_id. The resulting session will be identified by the given session_id and stored for future session restore. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, else an error code. </dd></dl>

</div>
</div>
<a class="anchor" id="a543c4d6b34f107f41a2812b15e370523"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> <a class="el" href="ssl_8h.html#af175c116d52a91001f9a3559b580f56d">pn_ssl_resume_status_t</a> pn_ssl_resume_status </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a> *&#160;</td>
          <td class="paramname"><em>ssl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Check whether the state has been resumed.</p>
<p>Used for client session resume. When called on an active session, indicates whether the state has been resumed from a previous session.</p>
<dl class="section note"><dt>Note</dt><dd>This is a best-effort service - there is no guarantee that the remote server will accept the resumed parameters. The remote server may choose to ignore these parameters, and request a re-negotiation instead.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ssl</td><td>the ssl session to check </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code indicating whether or not the session has been resumed. </dd></dl>

</div>
</div>
<a class="anchor" id="a733943a1e722653b5c1f36b7de670ee5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="import__export_8h.html#acfa9628d87130a64f95ee17c57a7c13b">PN_EXTERN</a> int pn_ssl_set_peer_hostname </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ssl_8h.html#a215da63662423b00d34605ba4f9761f5">pn_ssl_t</a> *&#160;</td>
          <td class="paramname"><em>ssl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>hostname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set the expected identity of the remote peer.</p>
<p>The hostname is used for two purposes: 1) when set on an SSL client, it is sent to the server during the handshake (if Server Name Indication is supported), and 2) it is used to check against the identifying name provided in the peer's certificate. If the supplied name does not exactly match a SubjectAltName (type DNS name), or the CommonName entry in the peer's certificate, the peer is considered unauthenticated (potential imposter), and the SSL connection is aborted.</p>
<dl class="section note"><dt>Note</dt><dd>Verification of the hostname is only done if PN_SSL_VERIFY_PEER_NAME is enabled. See ::pn_ssl_set_peer_authentication.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ssl</td><td>the ssl session. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hostname</td><td>the expected identity of the remote. Must conform to the syntax as given in RFC1034, Section 3.5. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_25143d27009f52d175c1d192441a738a.html">proton</a></li><li class="navelem"><a class="el" href="ssl_8h.html">ssl.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.3.1 </li>
  </ul>
</div>
</body>
</html>
