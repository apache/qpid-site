<!DOCTYPE html>
<!--
 -
 - Licensed to the Apache Software Foundation (ASF) under one
 - or more contributor license agreements.  See the NOTICE file
 - distributed with this work for additional information
 - regarding copyright ownership.  The ASF licenses this file
 - to you under the Apache License, Version 2.0 (the
 - "License"); you may not use this file except in compliance
 - with the License.  You may obtain a copy of the License at
 -
 -   http://www.apache.org/licenses/LICENSE-2.0
 -
 - Unless required by applicable law or agreed to in writing,
 - software distributed under the License is distributed on an
 - "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 - KIND, either express or implied.  See the License for the
 - specific language governing permissions and limitations
 - under the License.
 -
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <head>
    <title>SYNOPSIS - Apache Qpid&#8482;</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link rel="stylesheet" href="/site.css" type="text/css" async="async"/>
    <link rel="stylesheet" href="/deferred.css" type="text/css" defer="defer"/>
    <script type="text/javascript">var _deferredFunctions = [];</script>
    <script type="text/javascript" src="/deferred.js" defer="defer"></script>
    <!--[if lte IE 8]>
      <link rel="stylesheet" href="/ie.css" type="text/css"/>
      <script type="text/javascript" src="/html5shiv.js"></script>
    <![endif]-->

    <!-- Redirects for `go get` and godoc.org -->
    <meta name="go-import"
          content="qpid.apache.org git https://gitbox.apache.org/repos/asf/qpid-proton.git"/>
    <meta name="go-source"
          content="qpid.apache.org
https://github.com/apache/qpid-proton/blob/go1/README.md
https://github.com/apache/qpid-proton/tree/go1{/dir}
https://github.com/apache/qpid-proton/blob/go1{/dir}/{file}#L{line}"/>
  </head>
  <body>
    <div id="-content">
      <div id="-top" class="panel">
        <a id="-menu-link"><img width="16" height="16" src="" alt="Menu"/></a>

        <a id="-search-link"><img width="22" height="16" src="" alt="Search"/></a>

        <ul id="-global-navigation">
          <li><a id="-logotype" href="/index.html">Apache Qpid<sup>&#8482;</sup></a></li>
          <li><a href="/documentation.html">Documentation</a></li>
          <li><a href="/download.html">Download</a></li>
          <li><a href="/discussion.html">Discussion</a></li>
        </ul>
      </div>

      <div id="-menu" class="panel" style="display: none;">
        <div class="flex">
          <section>
            <h3>Project</h3>

            <ul>
              <li><a href="/overview.html">Overview</a></li>
              <li><a href="/components/index.html">Components</a></li>
              <li><a href="/releases/index.html">Releases</a></li>
            </ul>
          </section>

          <section>
            <h3>Messaging APIs</h3>

            <ul>
              <li><a href="/proton/index.html">Qpid Proton</a></li>
              <li><a href="/components/jms/index.html">Qpid JMS</a></li>
              <li><a href="/components/messaging-api/index.html">Qpid Messaging API</a></li>
            </ul>
          </section>

          <section>
            <h3>Servers and tools</h3>

            <ul>
              <li><a href="/components/broker-j/index.html">Broker-J</a></li>
              <li><a href="/components/cpp-broker/index.html">C++ broker</a></li>
              <li><a href="/components/dispatch-router/index.html">Dispatch router</a></li>
            </ul>
          </section>

          <section>
            <h3>Resources</h3>

            <ul>
              <li><a href="/dashboard.html">Dashboard</a></li>
              <li><a href="https://cwiki.apache.org/confluence/display/qpid/Index">Wiki</a></li>
              <li><a href="/resources.html">More resources</a></li>
            </ul>
          </section>
        </div>
      </div>

      <div id="-search" class="panel" style="display: none;">
        <form action="http://www.google.com/search" method="get">
          <input type="hidden" name="sitesearch" value="qpid.apache.org"/>
          <input type="text" name="q" maxlength="255" autofocus="autofocus" tabindex="1"/>
          <button type="submit">Search</button>
          <a href="/search.html">More ways to search</a>
        </form>
      </div>

      <div id="-middle" class="panel">
        <ul id="-path-navigation"><li><a href="/index.html">Home</a></li><li><a href="/releases/index.html">Releases</a></li><li><a href="/releases/qpid-dispatch-1.17.1/index.html">Qpid Dispatch 1.17.1</a></li><li>SYNOPSIS</li></ul>

        <div id="-middle-content">
          <div class="sect1">
<h2 id="_synopsis">SYNOPSIS</h2>
<div class="sectionbody">
<div class="paragraph"><p>Provides the initial configuration when <em>qdrouterd(8)</em> starts. The configuration
of a running router can be modified using <em>qdmanage(8)</em>.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_description">DESCRIPTION</h2>
<div class="sectionbody">
<div class="paragraph"><p>The configuration file is made up of sections with this syntax:</p></div>
<div class="listingblock">
<div class="content">
<pre><code>sectionName {
    attributeName: attributeValue
    attributeName: attributeValue
    ...
}</code></pre>
</div></div>
<div class="paragraph"><p>For example you can define a router using the <em>router</em> section</p></div>
<div class="listingblock">
<div class="content">
<pre><code>router {
    mode: standalone
    id: Router.A
    ...
}</code></pre>
</div></div>
<div class="paragraph"><p>or define a listener using the <em>listener</em> section</p></div>
<div class="listingblock">
<div class="content">
<pre><code>listener {
    host: 0.0.0.0
    port: 20102
    saslMechanisms: ANONYMOUS
    ...
}</code></pre>
</div></div>
<div class="paragraph"><p>or define a connector using the <em>connector</em> section</p></div>
<div class="listingblock">
<div class="content">
<pre><code>connector {
    role: inter-router
    host: 0.0.0.0
    port: 20003
    saslMechanisms: ANONYMOUS
    ...
}</code></pre>
</div></div>
<div class="paragraph"><p>An <em>sslProfile</em> section with SSL credentials can be included in multiple <em>listener</em> or <em>connector</em> entities. Here&#8217;s an example, note
how the <em>sslProfile</em> attribute of <em>listener</em> sections references the <em>name</em>
attribute of <em>sslProfile</em> sections.</p></div>
<div class="listingblock">
<div class="content">
<pre><code>sslProfile {
    name: my-ssl
    caCertFile: ca-certificate-1.pem
    certFile: server-certificate-1.pem
    privateKeyFile: server-private-key.pem
}

listener {
    sslProfile: my-ssl
    host: 0.0.0.0
    port: 20102
    saslMechanisms: ANONYMOUS
}</code></pre>
</div></div>
</div>
</div>
<div class="sect1">
<h2 id="_configuration_sections">Configuration Sections</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_router">router</h3>
<div class="paragraph"><p>Tracks peer routers and computes routes to destinations. This entity is mandatory. The router will not start without this entity.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>id</em> (string)
</dt>
<dd>
<p>
  Router&#8217;s unique identity. This field may not contain whitespace or control characters. If not specified, a random identity will be assigned at startup.
</p>
</dd>
<dt class="hdlist1">
<em>mode</em> (One of [<em>standalone</em>, <em>interior</em>, <em>edge</em>], default=<em>standalone</em>)
</dt>
<dd>
<p>
  In standalone mode, the router operates as a single component.  It does not participate in the routing protocol and therefore will not cooperate with other routers. In interior mode, the router operates in cooperation with other interior routers in an interconnected network.  In edge mode, the router can make a connection to an interior router and join a network without causing that network to recompute paths.
</p>
</dd>
<dt class="hdlist1">
<em>helloIntervalSeconds</em> (integer, default=<em>1</em>)
</dt>
<dd>
<p>
  Interval in seconds between HELLO messages sent to neighbor routers.
</p>
</dd>
<dt class="hdlist1">
<em>helloMaxAgeSeconds</em> (integer, default=<em>3</em>)
</dt>
<dd>
<p>
  Time in seconds after which a neighbor is declared lost if no HELLO is received.
</p>
</dd>
<dt class="hdlist1">
<em>raIntervalSeconds</em> (integer, default=<em>30</em>)
</dt>
<dd>
<p>
  Interval in seconds between Router-Advertisements sent to all routers in a stable network.
</p>
</dd>
<dt class="hdlist1">
<em>raIntervalFluxSeconds</em> (integer, default=<em>4</em>)
</dt>
<dd>
<p>
  Interval in seconds between Router-Advertisements sent to all routers during topology fluctuations.
</p>
</dd>
<dt class="hdlist1">
<em>remoteLsMaxAgeSeconds</em> (integer, default=<em>60</em>)
</dt>
<dd>
<p>
  Time in seconds after which link state is declared stale if no RA is received.
</p>
</dd>
<dt class="hdlist1">
<em>workerThreads</em> (integer, default=<em>4</em>)
</dt>
<dd>
<p>
  The number of threads that will be created to process message traffic and other application work (timers, non-amqp file descriptors, etc.) .
</p>
</dd>
<dt class="hdlist1">
<em>debugDumpFile</em> (path)
</dt>
<dd>
<p>
  The absolute path to the location for the debug dump file. The router writes debug-level information to this file if the logger is not available.
</p>
</dd>
<dt class="hdlist1">
<em>saslConfigDir</em> (path)
</dt>
<dd>
<p>
  Absolute path to the SASL configuration file.
</p>
</dd>
<dt class="hdlist1">
<em>saslConfigName</em> (string, default=<em>qdrouterd</em>)
</dt>
<dd>
<p>
  Name of the SASL configuration.  This string + <em>.conf</em> is the name of the configuration file.
</p>
</dd>
<dt class="hdlist1">
<em>allowResumableLinkRoute</em> (boolean, default=<em>True</em>)
</dt>
<dd>
<p>
  Whether links can be routed where timeout is non-zero or expiry-policy is not link-detach
</p>
</dd>
<dt class="hdlist1">
<em>timestampsInUTC</em> (boolean)
</dt>
<dd>
<p>
  Use UTC time rather than localtime in logs.
</p>
</dd>
<dt class="hdlist1">
<em>timestampFormat</em> (string)
</dt>
<dd>
<p>
  Format string to use for timestamps in logs.
</p>
</dd>
<dt class="hdlist1">
<em>allowUnsettledMulticast</em> (boolean)
</dt>
<dd>
<p>
  (DEPRECATED) If true, allow senders to send unsettled deliveries to multicast addresses.  These deliveries shall be settled by the ingress router.  If false, unsettled deliveries to multicast addresses shall be rejected.
</p>
</dd>
<dt class="hdlist1">
<em>defaultDistribution</em> (One of [<em>multicast</em>, <em>closest</em>, <em>balanced</em>, <em>unavailable</em>], default=<em>balanced</em>)
</dt>
<dd>
<p>
  Default forwarding treatment for any address without a specified treatment. multicast - one copy of each message delivered to all subscribers; closest - messages delivered to only the closest subscriber; balanced - messages delivered to one subscriber with load balanced across subscribers; unavailable - this address is unavailable, messages sent and link attaches to the address will be rejected.
</p>
</dd>
<dt class="hdlist1">
<em>metadata</em> (string)
</dt>
<dd>
<p>
  Optional metadata text to describe or label this router. This text does not affect the function of the router, but it can be used by external tools (such as the console or orchestration software) to control how the router is displayed.
</p>
</dd>
<dt class="hdlist1">
<em>helloInterval</em> (integer, default=<em>1</em>)
</dt>
<dd>
<p>
  (DEPRECATED) Interval in seconds between HELLO messages sent to neighbor routers. This attribute has been deprecated. Use helloIntervalSeconds instead.
</p>
</dd>
<dt class="hdlist1">
<em>helloMaxAge</em> (integer, default=<em>3</em>)
</dt>
<dd>
<p>
  (DEPRECATED) Time in seconds after which a neighbor is declared lost if no HELLO is received. This attribute has been deprecated. Use helloMaxAgeSeconds instead.
</p>
</dd>
<dt class="hdlist1">
<em>raInterval</em> (integer, default=<em>30</em>)
</dt>
<dd>
<p>
  (DEPRECATED) Interval in seconds between Router-Advertisements sent to all routers in a stable network. This attribute has been deprecated. Use raIntervalSeconds instead.
</p>
</dd>
<dt class="hdlist1">
<em>raIntervalFlux</em> (integer, default=<em>4</em>)
</dt>
<dd>
<p>
  (DEPRECATED) Interval in seconds between Router-Advertisements sent to all routers during topology fluctuations. This attribute has been deprecated. Use raIntervalFluxSeconds instead.
</p>
</dd>
<dt class="hdlist1">
<em>remoteLsMaxAge</em> (integer, default=<em>60</em>)
</dt>
<dd>
<p>
  (DEPRECATED) Time in seconds after which link state is declared stale if no RA is received. This attribute has been deprecated. Use remoteLsMaxAgeSeconds instead.
</p>
</dd>
<dt class="hdlist1">
<em>debugDump</em> (path)
</dt>
<dd>
<p>
  (DEPRECATED) The absolute path to the location for the debug dump file. The router writes debug-level information to this file if the logger is not available. This attribute has been deprecated. Use debugDumpFile instead.
</p>
</dd>
<dt class="hdlist1">
<em>saslConfigPath</em> (path)
</dt>
<dd>
<p>
  (DEPRECATED) Absolute path to the SASL configuration file. This attribute has been deprecated. Use saslConfigDir instead.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_sslprofile">sslProfile</h3>
<div class="paragraph"><p>Attributes for setting TLS/SSL configuration for connections.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>ciphers</em> (string)
</dt>
<dd>
<p>
  Specifies the enabled ciphers so the SSL Ciphers can be hardened. In other words, use this field to disable weak ciphers. The ciphers are specified in the format understood by the OpenSSL library. For example, ciphers can be set to ALL:!aNULL:!EXPORT56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP;&#8201;&#8212;&#8201;The full list of allowed ciphers can be viewed using the openssl ciphers command
</p>
</dd>
<dt class="hdlist1">
<em>protocols</em> (string)
</dt>
<dd>
<p>
  The TLS protocols that this sslProfile can use. You can specify a list of one or more of TLSv1, TLSv1.1, or TLSv1.2. To specify multiple protocols, separate the protocols with a space. For example, to permit the sslProfile to use TLS v1.1 and TLS v1.2 only, you would set the value to TLSv1.1 TLSv1.2. If you do not specify a value, the sslProfile uses the TLS protocol specified by the system-wide configuration.
</p>
</dd>
<dt class="hdlist1">
<em>caCertFile</em> (path)
</dt>
<dd>
<p>
  The absolute path to the database that contains the public certificates of trusted certificate authorities (CA).
</p>
</dd>
<dt class="hdlist1">
<em>certFile</em> (path)
</dt>
<dd>
<p>
  The absolute path to the file containing the PEM-formatted public certificate to be used on the local end of any connections using this profile.
</p>
</dd>
<dt class="hdlist1">
<em>privateKeyFile</em> (path)
</dt>
<dd>
<p>
  The absolute path to the file containing the PEM-formatted private key for the above certificate.
</p>
</dd>
<dt class="hdlist1">
<em>passwordFile</em> (path)
</dt>
<dd>
<p>
  (DEPRECATED) If the above private key is password protected, this is the absolute path to the file containing the password that unlocks the certificate key. This file should be permission protected to limit access. This has been deprecated. Use the file: prefix in the password field to specify the absolute path of the file containing the password. If both password and passwordFile are provided, the passwordFile is ignored
</p>
</dd>
<dt class="hdlist1">
<em>password</em> (string)
</dt>
<dd>
<p>
  The password that unlocks the certificate key. You can specify the password by specifying an environment variable that stores the password, a file that stores the password, or by entering the password in clear text. To use an environment variable, specify <em>password: env:&lt;var&gt;</em>. Use this option with caution, because the environment of other processes is visible on certain platforms (for example, ps on certain Unix OSs). To use a file, specify <em>password: file:&lt;absolute-path-to-file&gt;</em>. This option is the most secure, because permissions can be set on the file that contains the password. To specify the password in clear text, specify <em>password: pass:&lt;password&gt;</em>, or <em>password: literal:&lt;password&gt;</em>, or <em>password: &lt;password&gt;</em>. This option is insecure, so it should only be used if security is not a concern. If both password and passwordFile are provided, the passwordFile is ignored.
</p>
</dd>
<dt class="hdlist1">
<em>uidFormat</em> (string)
</dt>
<dd>
<p>
  A list of x509 client certificate fields that will be used to build a string that will uniquely identify the client certificate owner. For e.g. a value of <em>cou</em> indicates that the uid will consist of c - common name concatenated with o - organization-company name concatenated with u - organization unit; or a value of <em>o2</em> indicates that the uid will consist of o (organization name) concatenated with 2 (the sha256 fingerprint of the entire certificate) . Allowed values can be any combination of <em>c</em>( ISO3166 two character country code), <em>s</em>(state or province), <em>l</em>(Locality; generally - city), <em>o</em>(Organization - Company Name), <em>u</em>(Organization Unit - typically certificate type or brand), <em>n</em>(CommonName - typically a user name for client certificates) and <em>1</em>(sha1 certificate fingerprint, as displayed in the fingerprints section when looking at a certificate with say a web browser is the hash of the entire certificate) and 2 (sha256 certificate fingerprint) and 5 (sha512 certificate fingerprint). The user identifier (uid) that is generated based on the uidFormat is a string which has a semi-colon as a separator between the components
</p>
</dd>
<dt class="hdlist1">
<em>uidNameMappingFile</em> (string)
</dt>
<dd>
<p>
  The absolute path to the file containing the unique id to display name mapping
</p>
</dd>
<dt class="hdlist1">
<em>certDb</em> (path)
</dt>
<dd>
<p>
  (DEPRECATED) The absolute path to the database that contains the public certificates of trusted certificate authorities (CA). This attribute has been deprecated. Use caCertFile instead.
</p>
</dd>
<dt class="hdlist1">
<em>keyFile</em> (path)
</dt>
<dd>
<p>
  (DEPRECATED) The absolute path to the file containing the PEM-formatted private key for the above certificate. This attribute has been deprecated. Use privateKeyFile instead.
</p>
</dd>
<dt class="hdlist1">
<em>displayNameFile</em> (string)
</dt>
<dd>
<p>
  (DEPRECATED) The absolute path to the file containing the unique id to display name mapping This attribute has been deprecated. Use uidNameMappingFile instead.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_authserviceplugin">authServicePlugin</h3>
<div class="paragraph"><p>EXPERIMENTAL. Attributes for setting SASL plugin.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>authService</em> (string)
</dt>
<dd>
<p>
  (DEPRECATED) Address of a service to delegate authentication to. This attribute has been deprecated. Use the host and port attributes instead.
</p>
</dd>
<dt class="hdlist1">
<em>host</em> (string)
</dt>
<dd>
<p>
  A host name, IPV4 or IPV6 literal, of the service to delegate to.
</p>
</dd>
<dt class="hdlist1">
<em>port</em> (string, default=<em>amqp</em>)
</dt>
<dd>
<p>
  Port number of the service delegated host.
</p>
</dd>
<dt class="hdlist1">
<em>realm</em> (string)
</dt>
<dd>
<p>
  Value to set for hostname field on sasl-init
</p>
</dd>
<dt class="hdlist1">
<em>sslProfile</em> (string)
</dt>
<dd>
<p>
  Name of the sslProfile to use for the authentication service.
</p>
</dd>
<dt class="hdlist1">
<em>saslInitHostname</em> (string)
</dt>
<dd>
<p>
  (DEPRECATED) Value to set for hostname field on sasl-init This attribute has been deprecated. Use realm instead.
</p>
</dd>
<dt class="hdlist1">
<em>authSslProfile</em> (string)
</dt>
<dd>
<p>
  (DEPRECATED) Name of the sslProfile to use for the authentication service. This attribute has been deprecated. Use sslProfile instead.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_listener">listener</h3>
<div class="paragraph"><p>Listens for incoming connections to the router.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>host</em> (string)
</dt>
<dd>
<p>
  A host name, IPV4 or IPV6 literal, or the empty string. The empty string listens on all local addresses. A host name listens on all addresses associated with the name. An IPV6 literal address (or wildcard <em>[::]</em>) listens only for IPV6. An IPV4 literal address (or wildcard <em>0.0.0.0</em>) listens only for IPV4.
</p>
</dd>
<dt class="hdlist1">
<em>port</em> (string, default=<em>amqp</em>)
</dt>
<dd>
<p>
  Port number or symbolic service name.  If <em>0</em>, the router shall assign an ephemeral port to the listener and log the port number with a log of the form <em>SERVER (notice) Listening on &lt;host&gt;:&lt;assigned-port&gt; (&lt;listener-name&gt;)</em>
</p>
</dd>
<dt class="hdlist1">
<em>socketAddressFamily</em> (One of [<em>IPv4</em>, <em>IPv6</em>])
</dt>
<dd>
<p>
  [<em>IPv4</em>, <em>IPv6</em>] IPv4: Internet Protocol version 4; IPv6: Internet Protocol version 6.  If not specified, the protocol family will be automatically determined from the address.
</p>
</dd>
<dt class="hdlist1">
<em>role</em> (One of [<em>normal</em>, <em>inter-router</em>, <em>route-container</em>, <em>edge</em>], default=<em>normal</em>)
</dt>
<dd>
<p>
  The role of an established connection. In the normal role, the connection is assumed to be used for AMQP clients that are doing normal message delivery over the connection.  In the inter-router role, the connection is assumed to be to another router in the network.  Inter-router discovery and routing protocols can only be used over inter-router connections. route-container role can be used for router-container connections, for example, a router-broker connection.  In the edge role, the connection is assumed to be between an edge router and an interior router.
</p>
</dd>
<dt class="hdlist1">
<em>cost</em> (integer, default=<em>1</em>)
</dt>
<dd>
<p>
  For the <em>inter-router</em> role only.  This value assigns a cost metric to the inter-router connection.  The default (and minimum) value is one.  Higher values represent higher costs.  The cost is used to influence the routing algorithm as it attempts to use the path with the lowest total cost from ingress to egress.
</p>
</dd>
<dt class="hdlist1">
<em>sslProfile</em> (string)
</dt>
<dd>
<p>
  Name of the sslProfile.
</p>
</dd>
<dt class="hdlist1">
<em>saslMechanisms</em> (string)
</dt>
<dd>
<p>
  Space separated list of accepted SASL authentication mechanisms.
</p>
</dd>
<dt class="hdlist1">
<em>authenticatePeer</em> (boolean)
</dt>
<dd>
<p>
  yes: Require the peer&#8217;s identity to be authenticated; no: Do not require any authentication.
</p>
</dd>
<dt class="hdlist1">
<em>saslPlugin</em> (string)
</dt>
<dd>
<p>
  EXPERIMENTAL. Name of the a sasl plugin configuration section to use for this listener (e.g. authServicePlugin).
</p>
</dd>
<dt class="hdlist1">
<em>requireEncryption</em> (boolean)
</dt>
<dd>
<p>
  yes: Require the connection to the peer to be encrypted; no: Permit non-encrypted communication with the peer
</p>
</dd>
<dt class="hdlist1">
<em>requireSsl</em> (boolean)
</dt>
<dd>
<p>
  yes: Require the use of SSL or TLS on the connection; no: Allow clients to connect without SSL or TLS.
</p>
</dd>
<dt class="hdlist1">
<em>trustedCertsFile</em> (path)
</dt>
<dd>
<p>
  (DEPRECATED) Use sslProfile caCertFile instead.
</p>
</dd>
<dt class="hdlist1">
<em>maxFrameSize</em> (integer, default=<em>16384</em>)
</dt>
<dd>
<p>
  The maximum frame size in octets that will be used in the connection-open negotiation with a connected peer.  The frame size is the largest contiguous set of uninterrupted data that can be sent for a message delivery over the connection. Interleaving of messages on different links is done at frame granularity. Policy settings, if specified, will overwrite this value. Defaults to 16384.
</p>
</dd>
<dt class="hdlist1">
<em>maxSessions</em> (integer, default=<em>32768</em>)
</dt>
<dd>
<p>
  The maximum number of sessions that can be simultaneously active on the connection. Setting this value to zero selects the default number of sessions. Policy settings, if specified, will overwrite this value. Defaults to 32768.
</p>
</dd>
<dt class="hdlist1">
<em>maxSessionFrames</em> (integer)
</dt>
<dd>
<p>
  Session incoming window measured in transfer frames for sessions created on this connection. This is the number of transfer frames that may simultaneously be in flight for all links in the session. Setting this value to zero selects the default session window size. Policy settings, if specified, will overwrite this value. The numerical product of maxFrameSize and maxSessionFrames may not exceed 2<sup>31-1. If (maxFrameSize x maxSessionFrames) exceeds 2</sup>31-1 then maxSessionFrames is reduced to (2^31-1 / maxFrameSize). maxSessionFrames has a minimum value of 1. Defaults to 0 (unlimited window).
</p>
</dd>
<dt class="hdlist1">
<em>idleTimeoutSeconds</em> (integer, default=<em>16</em>)
</dt>
<dd>
<p>
  The idle timeout, in seconds, for connections through this listener.  If no frames are received on the connection for this time interval, the connection shall be closed.
</p>
</dd>
<dt class="hdlist1">
<em>initialHandshakeTimeoutSeconds</em> (integer)
</dt>
<dd>
<p>
  The timeout, in seconds, for the initial handshake for connections coming in through listeners.  If the time interval expires before the peer sends the AMQP OPEN frame, the connection shall be closed.  A value of zero (the default) disables this timeout.
</p>
</dd>
<dt class="hdlist1">
<em>stripAnnotations</em> (One of [<em>in</em>, <em>out</em>, <em>both</em>, <em>no</em>], default=<em>both</em>)
</dt>
<dd>
<p>
  [<em>in</em>, <em>out</em>, <em>both</em>, <em>no</em>] in: Strip the dispatch router specific annotations only on ingress; out: Strip the dispatch router specific annotations only on egress; both: Strip the dispatch router specific annotations on both ingress and egress; no - do not strip dispatch router specific annotations
</p>
</dd>
<dt class="hdlist1">
<em>linkCapacity</em> (integer)
</dt>
<dd>
<p>
  The capacity of links within this connection, in terms of message deliveries.  The capacity is the number of messages that can be in-flight concurrently for each link.
</p>
</dd>
<dt class="hdlist1">
<em>multiTenant</em> (boolean)
</dt>
<dd>
<p>
  If true, apply multi-tenancy to endpoints connected at this listener.  The address space is defined by the virtual host (hostname field in the Open).
</p>
</dd>
<dt class="hdlist1">
<em>failoverUrls</em> (string)
</dt>
<dd>
<p>
  A comma-separated list of failover urls to be supplied to connected clients.  Form: [(amqp|amqps|ws|wss)://]host_or_ip[:port]
</p>
</dd>
<dt class="hdlist1">
<em>healthz</em> (boolean, default=<em>True</em>)
</dt>
<dd>
<p>
  Provide a simple HTTP based liveness test (using path /healthz). Assumes listener is enabled for http.
</p>
</dd>
<dt class="hdlist1">
<em>metrics</em> (boolean, default=<em>True</em>)
</dt>
<dd>
<p>
  Export metrics in prometheus text format for the router (using path /metrics). Assumes listener is enabled for http.
</p>
</dd>
<dt class="hdlist1">
<em>websockets</em> (boolean, default=<em>True</em>)
</dt>
<dd>
<p>
  For an http enabled listener, determines whether websockets access is enabled (true by default).
</p>
</dd>
<dt class="hdlist1">
<em>http</em> (boolean)
</dt>
<dd>
<p>
  Accept HTTP connections that can upgrade to AMQP over WebSocket. Plain AMQP connections are not accepted on this listener.
</p>
</dd>
<dt class="hdlist1">
<em>httpRootDir</em> (path)
</dt>
<dd>
<p>
  Absolute path to a directory from which to serve static HTML files. Defaults to the stand-alone console installation directory (typically /usr/share/qpid-dispatch/console).
</p>
</dd>
<dt class="hdlist1">
<em>messageLoggingComponents</em> (string, default=<em>none</em>)
</dt>
<dd>
<p>
  A comma separated list that indicates which components of the message should be logged. Defaults to <em>none</em> (log nothing). If you want all properties and application properties of the message logged use <em>all</em>. Specific components of the message can be logged by indicating the components via a comma separated list. The components are message-id, user-id, to, subject, reply-to, correlation-id, content-type, content-encoding, absolute-expiry-time, creation-time, group-id, group-sequence, reply-to-group-id, app-properties. The application-data part of the bare message will not be logged. No spaces are allowed
</p>
</dd>
<dt class="hdlist1">
<em>policyVhost</em> (string)
</dt>
<dd>
<p>
  A listener may optionally define a virtual host to index to a specific policy to restrict the remote container to access only specific resources. This attribute defines the name of the policy vhost for this listener.  If multi-tenancy is enabled for the listener, this vhost will override the peer-supplied vhost for the purposes of identifying the desired policy settings for the connections.
</p>
</dd>
<dt class="hdlist1">
<em>openProperties</em> (properties)
</dt>
<dd>
<p>
  A JSON map containing connection properties.  These will be sent to the peer on connection open.  All map keys are restricted to strings containing only valid ASCII characters, Keys must not start with prefixes <em>qd.</em> or <em>x-opt-qd.</em>.  The following key values are also reserved: <em>product</em>, <em>version</em>, <em>failover-server-list</em>, <em>network-host</em>, <em>port</em>, <em>scheme</em> <em>hostname</em>
</p>
</dd>
<dt class="hdlist1">
<em>protocolFamily</em> (One of [<em>IPv4</em>, <em>IPv6</em>])
</dt>
<dd>
<p>
  (DEPRECATED) [<em>IPv4</em>, <em>IPv6</em>] IPv4: Internet Protocol version 4; IPv6: Internet Protocol version 6.  If not specified, the protocol family will be automatically determined from the address. This attribute has been deprecated. Use socketAddressFamily instead.
</p>
</dd>
<dt class="hdlist1">
<em>trustedCerts</em> (path)
</dt>
<dd>
<p>
  (DEPRECATED) (DEPRECATED) Use sslProfile caCertFile instead. This attribute has been deprecated. Use trustedCertsFile instead.
</p>
</dd>
<dt class="hdlist1">
<em>failoverList</em> (string)
</dt>
<dd>
<p>
  (DEPRECATED) A comma-separated list of failover urls to be supplied to connected clients.  Form: [(amqp|amqps|ws|wss)://]host_or_ip[:port] This attribute has been deprecated. Use failoverUrls instead.
</p>
</dd>
<dt class="hdlist1">
<em>httpRoot</em> (path)
</dt>
<dd>
<p>
  (DEPRECATED) Absolute path to a directory from which to serve static HTML files. Defaults to the stand-alone console installation directory (typically /usr/share/qpid-dispatch/console). This attribute has been deprecated. Use httpRootDir instead.
</p>
</dd>
<dt class="hdlist1">
<em>logMessage</em> (string, default=<em>none</em>)
</dt>
<dd>
<p>
  (DEPRECATED) A comma separated list that indicates which components of the message should be logged. Defaults to <em>none</em> (log nothing). If you want all properties and application properties of the message logged use <em>all</em>. Specific components of the message can be logged by indicating the components via a comma separated list. The components are message-id, user-id, to, subject, reply-to, correlation-id, content-type, content-encoding, absolute-expiry-time, creation-time, group-id, group-sequence, reply-to-group-id, app-properties. The application-data part of the bare message will not be logged. No spaces are allowed This attribute has been deprecated. Use messageLoggingComponents instead.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_connector">connector</h3>
<div class="paragraph"><p>Establishes an outgoing connection from the router.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>host</em> (string, default=<em>127.0.0.1</em>)
</dt>
<dd>
<p>
  IP address: ipv4 or ipv6 literal or a host name
</p>
</dd>
<dt class="hdlist1">
<em>port</em> (string, default=<em>amqp</em>)
</dt>
<dd>
<p>
  Port number or symbolic service name.
</p>
</dd>
<dt class="hdlist1">
<em>protocolFamily</em> (One of [<em>IPv4</em>, <em>IPv6</em>])
</dt>
<dd>
<p>
  [<em>IPv4</em>, <em>IPv6</em>] IPv4: Internet Protocol version 4; IPv6: Internet Protocol version 6.  If not specified, the protocol family will be automatically determined from the address.
</p>
</dd>
<dt class="hdlist1">
<em>role</em> (One of [<em>normal</em>, <em>inter-router</em>, <em>route-container</em>, <em>edge</em>], default=<em>normal</em>)
</dt>
<dd>
<p>
  The role of an established connection. In the normal role, the connection is assumed to be used for AMQP clients that are doing normal message delivery over the connection.  In the inter-router role, the connection is assumed to be to another router in the network.  Inter-router discovery and routing protocols can only be used over inter-router connections. route-container role can be used for router-container connections, for example, a router-broker connection.  In the edge role, the connection is assumed to be between and edge router and an interior router.
</p>
</dd>
<dt class="hdlist1">
<em>cost</em> (integer, default=<em>1</em>)
</dt>
<dd>
<p>
  For the <em>inter-router</em> role only.  This value assigns a cost metric to the inter-router connection.  The default (and minimum) value is one.  Higher values represent higher costs.  The cost is used to influence the routing algorithm as it attempts to use the path with the lowest total cost from ingress to egress.
</p>
</dd>
<dt class="hdlist1">
<em>sslProfile</em> (string)
</dt>
<dd>
<p>
  Name of the sslProfile.
</p>
</dd>
<dt class="hdlist1">
<em>saslMechanisms</em> (string)
</dt>
<dd>
<p>
  Space separated list of accepted SASL authentication mechanisms.
</p>
</dd>
<dt class="hdlist1">
<em>allowRedirect</em> (boolean, default=<em>True</em>)
</dt>
<dd>
<p>
  Allow the peer to redirect this connection to another address.
</p>
</dd>
<dt class="hdlist1">
<em>maxFrameSize</em> (integer, default=<em>16384</em>)
</dt>
<dd>
<p>
  The maximum frame size in octets that will be used in the connection-open negotiation with a connected peer.  The frame size is the largest contiguous set of uninterrupted data that can be sent for a message delivery over the connection. Interleaving of messages on different links is done at frame granularity. Policy settings will not overwrite this value. Defaults to 16384.
</p>
</dd>
<dt class="hdlist1">
<em>maxSessions</em> (integer, default=<em>32768</em>)
</dt>
<dd>
<p>
  The maximum number of sessions that can be simultaneously active on the connection. Setting this value to zero selects the default number of sessions. Policy settings will not overwrite this value. Defaults to 32768.
</p>
</dd>
<dt class="hdlist1">
<em>maxSessionFrames</em> (integer)
</dt>
<dd>
<p>
  Session incoming window measured in transfer frames for sessions created on this connection. This is the number of transfer frames that may simultaneously be in flight for all links in the session. Setting this value to zero selects the default session window size. Policy settings will not overwrite this value. The numerical product of maxFrameSize and maxSessionFrames may not exceed 2<sup>31-1. If (maxFrameSize x maxSessionFrames) exceeds 2</sup>31-1 then maxSessionFrames is reduced to (2^31-1 / maxFrameSize). maxSessionFrames has a minimum value of 1.  Defaults to 0 (unlimited window).
</p>
</dd>
<dt class="hdlist1">
<em>idleTimeoutSeconds</em> (integer, default=<em>16</em>)
</dt>
<dd>
<p>
  The idle timeout, in seconds, for connections through this connector.  If no frames are received on the connection for this time interval, the connection shall be closed.
</p>
</dd>
<dt class="hdlist1">
<em>stripAnnotations</em> (One of [<em>in</em>, <em>out</em>, <em>both</em>, <em>no</em>], default=<em>both</em>)
</dt>
<dd>
<p>
  [<em>in</em>, <em>out</em>, <em>both</em>, <em>no</em>] in: Strip the dispatch router specific annotations only on ingress; out: Strip the dispatch router specific annotations only on egress; both: Strip the dispatch router specific annotations on both ingress and egress; no - do not strip dispatch router specific annotations
</p>
</dd>
<dt class="hdlist1">
<em>linkCapacity</em> (integer)
</dt>
<dd>
<p>
  The capacity of links within this connection, in terms of message deliveries.  The capacity is the number of messages that can be in-flight concurrently for each link.
</p>
</dd>
<dt class="hdlist1">
<em>verifyHostname</em> (boolean, default=<em>True</em>)
</dt>
<dd>
<p>
  yes: Ensures that when initiating a connection (as a client) the host name in the URL to which this connector connects to matches the host name in the digital certificate that the peer sends back as part of the SSL connection; no: Does not perform host name verification
</p>
</dd>
<dt class="hdlist1">
<em>saslUsername</em> (string)
</dt>
<dd>
<p>
  The user name that the connector is using to connect to a peer.
</p>
</dd>
<dt class="hdlist1">
<em>saslPassword</em> (string)
</dt>
<dd>
<p>
  The password that the connector is using to connect to a peer. You can specify the password by specifying an environment variable that stores the password, a file that stores the password, or by entering the password in clear text. To use an environment variable, specify <em>saslPassword: env:&lt;var&gt;</em>. Use this option with caution, because the environment of other processes is visible on certain platforms (for example, ps on certain Unix OSs). To use a file, specify <em>saslPassword: file:&lt;absolute-path-to-file&gt;</em>. This option is the most secure, because permissions can be set on the file that contains the password. To specify the password in clear text, specify <em>saslPassword: pass:&lt;password&gt;</em> or <em>saslPassword: &lt;password&gt;</em>. This option is insecure, so it should only be used if security is not a concern.
</p>
</dd>
<dt class="hdlist1">
<em>messageLoggingComponents</em> (string, default=<em>none</em>)
</dt>
<dd>
<p>
  A comma separated list that indicates which components of the message should be logged (no spaces allowed between list components). Defaults to <em>none</em> (log nothing). If you want all properties and application properties of the message logged use <em>all</em>. Specific components of the message can be logged by indicating the components via a comma separated list. The components are message-id, user-id, to, subject, reply-to, correlation-id, content-type, content-encoding, absolute-expiry-time, creation-time, group-id, group-sequence, reply-to-group-id, app-properties. The application-data part of the bare message will not be logged. This log message is written to the MESSAGE logging module. In the <em>log</em> entity, set <em>module</em> property to MESSAGE or DEFAULT and <em>enable</em> to trace+ to see this log message
</p>
</dd>
<dt class="hdlist1">
<em>policyVhost</em> (string)
</dt>
<dd>
<p>
  A connector may optionally define a policy to restrict the remote container to access only specific resources. This attribute defines the name of the policy vhost for this connector. Within the vhost the connector will use the vhost policy settings from user group <em>$connector</em>. If the vhost policy is absent or if the user group <em>$connector</em> within that policy is absent then the connector will fail to start.  In policy specified via connector attribute <em>policyVhost</em> the following vhostUserGroupSettings attributes are unused:  <em>users</em>, <em>remoteHosts</em>, <em>maxFrameSize</em>, <em>maxSessionWindow</em>, <em>maxSessions</em>.
</p>
</dd>
<dt class="hdlist1">
<em>openProperties</em> (properties)
</dt>
<dd>
<p>
  A JSON map containing connection properties.  These will be sent to the peer on connection open.  All map keys are restricted to strings containing only valid ASCII characters, Keys must not start with prefixes <em>qd.</em> or <em>x-opt-qd.</em>.  The following key values are also reserved: <em>product</em>, <em>version</em>, <em>failover-server-list</em>, <em>network-host</em>, <em>port</em>, <em>scheme</em> <em>hostname</em>
</p>
</dd>
<dt class="hdlist1">
<em>verifyHostName</em> (boolean, default=<em>True</em>)
</dt>
<dd>
<p>
  (DEPRECATED) yes: Ensures that when initiating a connection (as a client) the host name in the URL to which this connector connects to matches the host name in the digital certificate that the peer sends back as part of the SSL connection; no: Does not perform host name verification This attribute has been deprecated. Use verifyHostname instead.
</p>
</dd>
<dt class="hdlist1">
<em>logMessage</em> (string, default=<em>none</em>)
</dt>
<dd>
<p>
  (DEPRECATED) A comma separated list that indicates which components of the message should be logged (no spaces allowed between list components). Defaults to <em>none</em> (log nothing). If you want all properties and application properties of the message logged use <em>all</em>. Specific components of the message can be logged by indicating the components via a comma separated list. The components are message-id, user-id, to, subject, reply-to, correlation-id, content-type, content-encoding, absolute-expiry-time, creation-time, group-id, group-sequence, reply-to-group-id, app-properties. The application-data part of the bare message will not be logged. This log message is written to the MESSAGE logging module. In the <em>log</em> entity, set <em>module</em> property to MESSAGE or DEFAULT and <em>enable</em> to trace+ to see this log message This attribute has been deprecated. Use messageLoggingComponents instead.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_httplistener">httpListener</h3>
<div class="paragraph"><p>Ingress HTTP bridge.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>host</em> (string, default=<em>0.0.0.0</em>)
</dt>
<dd>
<p>
  A host name, IPV4 or IPV6 literal, or the empty string. The empty string listens on all local addresses. A host name listens on all addresses associated with the name. An IPV6 literal address (or wildcard <em>[::]</em>) listens only for IPV6. An IPV4 literal address (or wildcard <em>0.0.0.0</em>) listens only for IPV4.
</p>
</dd>
<dt class="hdlist1">
<em>address</em> (string)
</dt>
<dd>
<p>
  Address of this http bridge
</p>
</dd>
<dt class="hdlist1">
<em>port</em> (string)
</dt>
<dd>
<p>
  Port number or symbolic service name.  If <em>0</em>, the router shall assign an ephemeral port to the listener and log the port number with a log of the form <em>SERVER (notice) Listening on &lt;host&gt;:&lt;assigned-port&gt; (&lt;listener-name&gt;)</em>
</p>
</dd>
<dt class="hdlist1">
<em>siteId</em> (string)
</dt>
<dd>
<p>
  Used to identify where request is handled.
</p>
</dd>
<dt class="hdlist1">
<em>sslProfile</em> (string)
</dt>
<dd>
<p>
  Name of the sslProfile..
</p>
</dd>
<dt class="hdlist1">
<em>protocolVersion</em> (One of [<em>HTTP1</em>, <em>HTTP2</em>], default=<em>HTTP1</em>)
</dt>
<dd>
<p>
  The version of the HTTP protocol supported by this listener.
</p>
</dd>
<dt class="hdlist1">
<em>aggregation</em> (One of [<em>multipart</em>, <em>json</em>])
</dt>
<dd>
<p>
  Aggregation mode for responses when used in conjunction with multicast address.
</p>
</dd>
<dt class="hdlist1">
<em>eventChannel</em> (boolean)
</dt>
<dd>
<p>
  Enables restricted event mode where no responses are sent to request and only post is allowed
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_httpconnector">httpConnector</h3>
<div class="paragraph"><p>Egress HTTP bridge.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>address</em> (string)
</dt>
<dd>
<p>
  Address of this bridge
</p>
</dd>
<dt class="hdlist1">
<em>host</em> (string, default=<em>127.0.0.1</em>)
</dt>
<dd>
<p>
  IP address: ipv4 or ipv6 literal or a host name
</p>
</dd>
<dt class="hdlist1">
<em>siteId</em> (string)
</dt>
<dd>
<p>
  Used to identify where request originates.
</p>
</dd>
<dt class="hdlist1">
<em>port</em> (string)
</dt>
<dd>
<p>
  Port number or symbolic service name.
</p>
</dd>
<dt class="hdlist1">
<em>protocolVersion</em> (One of [<em>HTTP1</em>, <em>HTTP2</em>], default=<em>HTTP1</em>)
</dt>
<dd>
<p>
  The version of the HTTP protocol supported by this connector.
</p>
</dd>
<dt class="hdlist1">
<em>aggregation</em> (One of [<em>multipart</em>, <em>json</em>])
</dt>
<dd>
<p>
  Aggregation mode for responses when used in conjunction with multicast address.
</p>
</dd>
<dt class="hdlist1">
<em>eventChannel</em> (boolean)
</dt>
<dd>
<p>
  Enables restricted event mode where no responses are sent to request and only post is allowed
</p>
</dd>
<dt class="hdlist1">
<em>hostOverride</em> (string)
</dt>
<dd>
<p>
  Used to override the value of the Host header sent to the client.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_tcplistener">tcpListener</h3>
<div class="paragraph"><p>Ingress TCP bridge.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>address</em> (string)
</dt>
<dd>
<p>
  Address of this bridge
</p>
</dd>
<dt class="hdlist1">
<em>host</em> (string, default=<em>0.0.0.0</em>)
</dt>
<dd>
<p>
  A host name, IPV4 or IPV6 literal, or the empty string. The empty string listens on all local addresses. A host name listens on all addresses associated with the name. An IPV6 literal address (or wildcard <em>[::]</em>) listens only for IPV6. An IPV4 literal address (or wildcard <em>0.0.0.0</em>) listens only for IPV4.
</p>
</dd>
<dt class="hdlist1">
<em>port</em> (string)
</dt>
<dd>
<p>
  Port number or symbolic service name.  If <em>0</em>, the router shall assign an ephemeral port to the listener and log the port number with a log of the form <em>SERVER (notice) Listening on &lt;host&gt;:&lt;assigned-port&gt; (&lt;listener-name&gt;)</em>
</p>
</dd>
<dt class="hdlist1">
<em>siteId</em> (string)
</dt>
<dd>
<p>
  Used to identify where connection is handled.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_tcpconnector">tcpConnector</h3>
<div class="paragraph"><p>Egress TCP bridge.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>address</em> (string)
</dt>
<dd>
<p>
  Address of this bridge
</p>
</dd>
<dt class="hdlist1">
<em>host</em> (string)
</dt>
<dd>
<p>
  IP address: ipv4 or ipv6 literal or a host name
</p>
</dd>
<dt class="hdlist1">
<em>port</em> (string)
</dt>
<dd>
<p>
  Port number or symbolic service name.
</p>
</dd>
<dt class="hdlist1">
<em>siteId</em> (string)
</dt>
<dd>
<p>
  Used to identify origin of connections.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_log">log</h3>
<div class="paragraph"><p>Configure logging for a particular module. You can use the <code>UPDATE</code> operation to change log settings while the router is running.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>module</em> (One of [<em>ROUTER</em>, <em>ROUTER_CORE</em>, <em>ROUTER_HELLO</em>, <em>ROUTER_LS</em>, <em>ROUTER_MA</em>, <em>MESSAGE</em>, <em>SERVER</em>, <em>AGENT</em>, <em>AUTHSERVICE</em>, <em>CONTAINER</em>, <em>ERROR</em>, <em>POLICY</em>, <em>HTTP</em>, <em>CONN_MGR</em>, <em>PYTHON</em>, <em>PROTOCOL</em>, <em>TCP_ADAPTOR</em>, <em>HTTP_ADAPTOR</em>, <em>DEFAULT</em>], required)
</dt>
<dd>
<p>
  Module to configure. The special module <em>DEFAULT</em> specifies defaults for all modules.
</p>
</dd>
<dt class="hdlist1">
<em>enable</em> (string)
</dt>
<dd>
<p>
  Levels are: trace, debug, info, notice, warning, error, critical. The enable string is a comma-separated list of levels. A level may have a trailing <em>+</em> to enable that level and above. For example <em>trace,debug,warning+</em> means enable trace, debug, warning, error and critical. The value <em>none</em> means disable logging for the module.
</p>
</dd>
<dt class="hdlist1">
<em>includeTimestamp</em> (boolean)
</dt>
<dd>
<p>
  Include timestamp in log messages.
</p>
</dd>
<dt class="hdlist1">
<em>includeSource</em> (boolean)
</dt>
<dd>
<p>
  Include source file and line number in log messages.
</p>
</dd>
<dt class="hdlist1">
<em>outputFile</em> (string)
</dt>
<dd>
<p>
  Where to send log messages. Can be <em>stderr</em>, <em>stdout</em>, <em>syslog</em> or a file name.
</p>
</dd>
<dt class="hdlist1">
<em>timestamp</em> (boolean)
</dt>
<dd>
<p>
  (DEPRECATED) Include timestamp in log messages. This attribute has been deprecated. Use includeTimestamp instead.
</p>
</dd>
<dt class="hdlist1">
<em>source</em> (boolean)
</dt>
<dd>
<p>
  (DEPRECATED) Include source file and line number in log messages. This attribute has been deprecated. Use includeSource instead.
</p>
</dd>
<dt class="hdlist1">
<em>output</em> (string)
</dt>
<dd>
<p>
  (DEPRECATED) Where to send log messages. Can be <em>stderr</em>, <em>stdout</em>, <em>syslog</em> or a file name. This attribute has been deprecated. Use outputFile instead.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_address">address</h3>
<div class="paragraph"><p>Entity type for address configuration.  This is used to configure the treatment of message-routed deliveries within a particular address-space.  The configuration controls distribution and address phasing.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>prefix</em> (string)
</dt>
<dd>
<p>
  The address prefix for the configured settings. Cannot be used with a pattern attribute.
</p>
</dd>
<dt class="hdlist1">
<em>pattern</em> (string)
</dt>
<dd>
<p>
  A wildcarded pattern for address matching. Incoming addresses are matched against this pattern. Matching addresses use the configured settings. The pattern consists of one or more tokens separated by a forward slash <em>/</em>. A token can be one of the following: a * character, a # character, or a sequence of characters that do not include /, *, or #.  The * token matches any single token.  The # token matches zero or more tokens. * has higher precedence than #, and exact match has the highest precedence. Cannot be used with a prefix attribute.
</p>
</dd>
<dt class="hdlist1">
<em>distribution</em> (One of [<em>multicast</em>, <em>closest</em>, <em>balanced</em>, <em>unavailable</em>], default=<em>balanced</em>)
</dt>
<dd>
<p>
  Treatment of traffic associated with the address
</p>
</dd>
<dt class="hdlist1">
<em>waypoint</em> (boolean)
</dt>
<dd>
<p>
  Designates this address space as being used for waypoints.  This will cause the proper address-phasing to be used.
</p>
</dd>
<dt class="hdlist1">
<em>ingressPhase</em> (integer)
</dt>
<dd>
<p>
  Advanced - Override the ingress phase for this address
</p>
</dd>
<dt class="hdlist1">
<em>egressPhase</em> (integer)
</dt>
<dd>
<p>
  Advanced - Override the egress phase for this address
</p>
</dd>
<dt class="hdlist1">
<em>priority</em> (integer)
</dt>
<dd>
<p>
  All messages sent to this address which lack an intrinsic priority will be assigned this priority.
</p>
</dd>
<dt class="hdlist1">
<em>enableFallback</em> (boolean)
</dt>
<dd>
<p>
  If false, undeliverable messages are released.  If true, undeliverable messages shall be re-delivered to a fallback destination.  The fallback destination uses the same address, but is attached using an autoLink with <em>fallback</em> enabled or a link with the qd.fallback capability.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_linkroute">linkRoute</h3>
<div class="paragraph"><p>Entity type for link-route configuration.  This is used to identify remote containers that shall be destinations for routed link-attaches.  The link-routing configuration applies to an addressing space defined by a prefix or a pattern.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>prefix</em> (string)
</dt>
<dd>
<p>
  The address prefix for the configured settings. Cannot be used with the pattern attribute.
</p>
</dd>
<dt class="hdlist1">
<em>pattern</em> (string)
</dt>
<dd>
<p>
  A wildcarded pattern for address matching. Link addresses are matched against this pattern. Matching addresses use the configured settings. The pattern consists of one or more tokens separated by a forward slash <em>/</em>. A token can be one of the following: a * character, a # character, or a sequence of characters that do not include /, *, or #.  The * token matches any single token.  The # token matches zero or more tokens. * has higher precedence than #, and exact match has the highest precedence. Cannot be used with the prefix attribute.
</p>
</dd>
<dt class="hdlist1">
<em>addExternalPrefix</em> (string)
</dt>
<dd>
<p>
  add the specified prefix to the address of the remote terminus on the route container link
</p>
</dd>
<dt class="hdlist1">
<em>delExternalPrefix</em> (string)
</dt>
<dd>
<p>
  remove the specified prefix to the address of the remote terminus on the route container link
</p>
</dd>
<dt class="hdlist1">
<em>containerId</em> (string)
</dt>
<dd>
<p>
  ContainerID for the target container. Only one of containerId or connection should be specified for a linkRoute. Specifying both will result in the linkRoute not being created.
</p>
</dd>
<dt class="hdlist1">
<em>connection</em> (string)
</dt>
<dd>
<p>
  The name from a connector or listener. Only one of containerId or connection should be specified for a linkRoute. Specifying both will result in the linkRoute not being created.
</p>
</dd>
<dt class="hdlist1">
<em>distribution</em> (One of [<em>linkBalanced</em>], default=<em>linkBalanced</em>)
</dt>
<dd>
<p>
  Treatment of traffic associated with the address
</p>
</dd>
<dt class="hdlist1">
<em>direction</em> (One of [<em>in</em>, <em>out</em>], required)
</dt>
<dd>
<p>
  The permitted direction of links: <em>in</em> means client senders; <em>out</em> means client receivers
</p>
</dd>
<dt class="hdlist1">
<em>dir</em> (One of [<em>in</em>, <em>out</em>], required)
</dt>
<dd>
<p>
  (DEPRECATED) The permitted direction of links: <em>in</em> means client senders; <em>out</em> means client receivers This attribute has been deprecated. Use direction instead.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_autolink">autoLink</h3>
<div class="paragraph"><p>Entity type for configuring auto-links.  Auto-links are links whose lifecycle is managed by the router.  These are typically used to attach to waypoints on remote containers (brokers, etc.).</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>address</em> (string, required)
</dt>
<dd>
<p>
  The address of the provisioned object
</p>
</dd>
<dt class="hdlist1">
<em>direction</em> (One of [<em>in</em>, <em>out</em>], required)
</dt>
<dd>
<p>
  The direction of the link to be created.  In means into the router, out means out of the router.
</p>
</dd>
<dt class="hdlist1">
<em>phase</em> (integer)
</dt>
<dd>
<p>
  The address phase for this link.  Defaults to <em>0</em> for <em>out</em> links and <em>1</em> for <em>in</em> links.
</p>
</dd>
<dt class="hdlist1">
<em>containerId</em> (string)
</dt>
<dd>
<p>
  ContainerID for the target container. Only one of containerId or connection should be specified for an autoLink. Specifying both will result in the autoLink not being created
</p>
</dd>
<dt class="hdlist1">
<em>connection</em> (string)
</dt>
<dd>
<p>
  The name from a connector or listener. Only one of containerId or connection should be specified for an autoLink. Specifying both will result in the autoLink not being created
</p>
</dd>
<dt class="hdlist1">
<em>externalAddress</em> (string)
</dt>
<dd>
<p>
  If present, an alternate address of the node on the remote container.  This is used if the node has a different address than the address used internally by the router to route deliveries.
</p>
</dd>
<dt class="hdlist1">
<em>fallback</em> (boolean)
</dt>
<dd>
<p>
  If true, this auto-link is attached to a fallback destination for an address.
</p>
</dd>
<dt class="hdlist1">
<em>addr</em> (string, required)
</dt>
<dd>
<p>
  (DEPRECATED) The address of the provisioned object This attribute has been deprecated. Use address instead.
</p>
</dd>
<dt class="hdlist1">
<em>dir</em> (One of [<em>in</em>, <em>out</em>], required)
</dt>
<dd>
<p>
  (DEPRECATED) The direction of the link to be created.  In means into the router, out means out of the router. This attribute has been deprecated. Use direction instead.
</p>
</dd>
<dt class="hdlist1">
<em>externalAddr</em> (string)
</dt>
<dd>
<p>
  (DEPRECATED) If present, an alternate address of the node on the remote container.  This is used if the node has a different address than the address used internally by the router to route deliveries. This attribute has been deprecated. Use externalAddress instead.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_exchange">exchange</h3>
<div class="paragraph"><p>[EXPERIMENTAL] Defines a topic exchange.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>address</em> (string, required)
</dt>
<dd>
<p>
  The address of the exchange. Used by the message publisher as the target for sending messages.
</p>
</dd>
<dt class="hdlist1">
<em>phase</em> (integer)
</dt>
<dd>
<p>
  The address phase for the exchange.  Defaults to <em>0</em>.
</p>
</dd>
<dt class="hdlist1">
<em>alternateAddress</em> (string)
</dt>
<dd>
<p>
  The address to forward the message to if no bindings are matched.
</p>
</dd>
<dt class="hdlist1">
<em>alternatePhase</em> (integer)
</dt>
<dd>
<p>
  The address phase for the alternateAddress.  Defaults to <em>0</em>.
</p>
</dd>
<dt class="hdlist1">
<em>matchMethod</em> (One of [<em>amqp</em>, <em>mqtt</em>], default=<em>amqp</em>)
</dt>
<dd>
<p>
  Key matching algorithm used. <em>amqp</em> uses the legacy AMQP topic exchange wildcard match method as described in the pre-1.0 drafts. <em>mqtt</em> uses the MQTT topic filter wildcard match method.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_binding">binding</h3>
<div class="paragraph"><p>[EXPERIMENTAL] Defines a keyed next hop binding for a topic exchange. The subject field of the messages arriving at the exchange is compared against the binding&#8217;s key value using the exchange&#8217;s matchMethod.  If the subject matches the key the message is forwarded to the nextHopAddress. The nextHopAddress overrides the message&#8217;s original destination.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>exchangeName</em> (string, required)
</dt>
<dd>
<p>
  The name of the exchange to bind.
</p>
</dd>
<dt class="hdlist1">
<em>bindingKey</em> (string)
</dt>
<dd>
<p>
  Pattern to compare against incoming message&#8217;s subject.  The key is a string of zero or more tokens and wildcards. The format depends on the matchMethod configured for the exchange. For AMQP each token is delimited by the <em>.</em> character and wild-card tokens <em>*</em> matches a single token and <em></em> matches zero or more tokens. For MQTT each token is delimited by the <em>/</em> character and wildcard tokens <em>+</em> matches a single token and <em></em> matches zero or more tokens at the end of the topic. If a key is not provided the binding will match all messages arriving at the exchange (fanout behavior).
</p>
</dd>
<dt class="hdlist1">
<em>nextHopAddress</em> (string, required)
</dt>
<dd>
<p>
  The address to forward the message to when the message&#8217;s topic string matches the binding key pattern.  This address is used by message consumers as the source of incoming messages.
</p>
</dd>
<dt class="hdlist1">
<em>nextHopPhase</em> (integer)
</dt>
<dd>
<p>
  The address phase used when forwarding messages that match this binding.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_console">console</h3>
<div class="paragraph"><p>(DEPRECATED) Start a websocket/tcp proxy and http file server to serve the web console</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>listener</em> (string)
</dt>
<dd>
<p>
  The name of the listener to send the proxied tcp traffic to.
</p>
</dd>
<dt class="hdlist1">
<em>wsport</em> (integer, default=<em>5673</em>)
</dt>
<dd>
<p>
  port on which to listen for websocket traffic
</p>
</dd>
<dt class="hdlist1">
<em>proxy</em> (string, required)
</dt>
<dd>
<p>
  The full path to the proxy program to run.
</p>
</dd>
<dt class="hdlist1">
<em>home</em> (string, required)
</dt>
<dd>
<p>
  The full path to the html/css/js files for the console.
</p>
</dd>
<dt class="hdlist1">
<em>args</em> (string)
</dt>
<dd>
<p>
  Optional args to pass the proxy program for logging, authentication, etc.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_policy">policy</h3>
<div class="paragraph"><p>Defines global connection limit</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>maxConnections</em> (integer, default=<em>65535</em>)
</dt>
<dd>
<p>
  The maximum number of concurrent client connections allowed for this router. This limit is always enforced, even if no other policy settings have been defined. The limit is applied to all incoming connections regardless of remote host, authenticated user, or targeted vhost.
</p>
</dd>
<dt class="hdlist1">
<em>maxMessageSize</em> (integer)
</dt>
<dd>
<p>
  The maximum size in bytes of AMQP message transfers allowed for this router as messages enter the router network. This limit is applied to transfers over user connections and to transfers to interior routers from edge routers. This limit is not applied to interior-to-interior router connections. This limit may be overridden by vhost or by vhost user group settings. A value of zero disables this limit. Administrators are advised not set interior router maximum message sizes so low that edge router management requests or responses are blocked. Administrators are also advised to set edge router maximum message sizes lower than the attached interior router maximum message size.
</p>
</dd>
<dt class="hdlist1">
<em>enableVhostPolicy</em> (boolean)
</dt>
<dd>
<p>
  Enables the router to enforce the connection denials and resource limits defined in the configured vhost policies.
</p>
</dd>
<dt class="hdlist1">
<em>enableVhostNamePatterns</em> (boolean)
</dt>
<dd>
<p>
  Enable vhost name patterns. When false vhost hostnames are treated as literal strings. When true vhost hostnames are treated as match patterns.
</p>
</dd>
<dt class="hdlist1">
<em>policyDir</em> (path)
</dt>
<dd>
<p>
  The absolute path to a directory that holds vhost policy definition files in JSON format (*.json). The router processes all of the vhost policies in each JSON file that is in this directory.
</p>
</dd>
<dt class="hdlist1">
<em>defaultVhost</em> (string)
</dt>
<dd>
<p>
  The name of the default vhost policy. This policy rule set is applied to a connection for which a vhost policy has not otherwise been configured. Processing for the default vhost is enabled by default and set to select vhost <em>$default</em>. To disable default vhost processing set defaultVhost to blank or do not define a vhost named <em>$default</em>.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_vhost">vhost</h3>
<div class="paragraph"><p>AMQP virtual host policy definition of users, user groups, allowed remote hosts, and AMQP restrictions.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>hostname</em> (string, required)
</dt>
<dd>
<p>
  The hostname of the vhost. This vhost policy will be applied to any client connection that is directed to this hostname.
</p>
</dd>
<dt class="hdlist1">
<em>aliases</em> (string)
</dt>
<dd>
<p>
  Alternate hostnames that share this vhost configuration. Hosts named in this attribute are treated as if this vhost was defined with the alias name in the vhost <em>hostname</em> attribute. This attribute is implemented to help with multitenant configurations where multiple vhosts share a common configuration. The string is a comma- or space-separated list of literal hostnames or hostname patterns. A vhost aliases hostname must be unique across all vhost hostnames and all of their aliases.
</p>
</dd>
<dt class="hdlist1">
<em>maxConnections</em> (integer, default=<em>65535</em>)
</dt>
<dd>
<p>
  The global maximum number of concurrent client connections allowed for this vhost.
</p>
</dd>
<dt class="hdlist1">
<em>maxConnectionsPerUser</em> (integer, default=<em>65535</em>)
</dt>
<dd>
<p>
  The maximum number of concurrent client connections allowed for any user.
</p>
</dd>
<dt class="hdlist1">
<em>maxConnectionsPerHost</em> (integer, default=<em>65535</em>)
</dt>
<dd>
<p>
  The maximum number of concurrent client connections allowed for any remote host (the host from which the client is connecting).
</p>
</dd>
<dt class="hdlist1">
<em>allowUnknownUser</em> (boolean)
</dt>
<dd>
<p>
  Whether unknown users (users who are not members of a defined user group) are allowed to connect to the vhost. Unknown users are assigned to the <em>$default</em> user group and receive <em>$default</em> settings.
</p>
</dd>
<dt class="hdlist1">
<em>groups</em> (map)
</dt>
<dd>
<p>
  A map where the key is a vhost user group name and the value is a vhostUserGroupSettings object that holds the settings for that vhost user group.
</p>
</dd>
<dt class="hdlist1">
<em>id</em> (string, required)
</dt>
<dd>
<p>
  (DEPRECATED) The hostname of the vhost. This vhost policy will be applied to any client connection that is directed to this hostname. This attribute has been deprecated. Use hostname instead.
</p>
</dd>
</dl></div>
</div>
<div class="sect2">
<h3 id="_vhostusergroupsettings">vhostUserGroupSettings</h3>
<div class="paragraph"><p>Policy settings for users connecting to a vhost. Configuration files including this section must use .json format.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<em>maxFrameSize</em> (integer, default=<em>16384</em>)
</dt>
<dd>
<p>
  The largest frame, in bytes, that may be sent on this connection. Non-zero policy values overwrite values specified for a listener object (AMQP Open, max-frame-size).
</p>
</dd>
<dt class="hdlist1">
<em>maxSessionWindow</em> (integer, default=<em>1638400</em>)
</dt>
<dd>
<p>
  The incoming capacity for new AMQP sessions, measured in octets. Non-zero policy values overwrite values specified for a listener object (AMQP Begin, incoming-window).
</p>
</dd>
<dt class="hdlist1">
<em>maxSessions</em> (integer, default=<em>32768</em>)
</dt>
<dd>
<p>
  The maximum number of sessions that may be created on this connection. Non-zero policy values overwrite values specified for a listener object (AMQP Open, channel-max).
</p>
</dd>
<dt class="hdlist1">
<em>maxSenders</em> (integer, default=<em>2147483647</em>)
</dt>
<dd>
<p>
  The maximum number of sending links that may be created on this connection. A value of <em>0</em> disables all sender links.
</p>
</dd>
<dt class="hdlist1">
<em>maxReceivers</em> (integer, default=<em>2147483647</em>)
</dt>
<dd>
<p>
  The maximum number of receiving links that may be created on this connection. A value of <em>0</em> disables all receiver links.
</p>
</dd>
<dt class="hdlist1">
<em>allowDynamicSource</em> (boolean)
</dt>
<dd>
<p>
  Whether this connection is allowed to create dynamic receiving links (links to resources that do not exist on the peer). A value of <em>true</em> means that users are able to automatically create resources on the peer system.
</p>
</dd>
<dt class="hdlist1">
<em>allowAnonymousSender</em> (boolean)
</dt>
<dd>
<p>
  Whether this connection is allowed to create sending links if the sender does not provide a target address. By prohibiting anonymous senders, the router only needs to verify once, when the link is created, that the sender is permitted to send messages to the target address. The router does not need to verify each message that is sent on the link. A value of <em>true</em> means that users may send messages to any address. Allowing anonymous senders can also decrease performance: if the sender does not specify a target address, then the router must parse each message to determine how to route it.
</p>
</dd>
<dt class="hdlist1">
<em>allowUserIdProxy</em> (boolean)
</dt>
<dd>
<p>
  Whether this connection is allowed to send messages with a user ID that is different than the connection&#8217;s authenticated user name.
</p>
</dd>
<dt class="hdlist1">
<em>allowWaypointLinks</em> (boolean, default=<em>True</em>)
</dt>
<dd>
<p>
  Whether this connection is allowed to claim <em>waypoint.N</em> capability for attached links.  This allows endpoints to act as waypoints without needing auto-links.
</p>
</dd>
<dt class="hdlist1">
<em>allowDynamicLinkRoutes</em> (boolean, default=<em>True</em>)
</dt>
<dd>
<p>
  Whether this connection is allowed to dynamically create connection-scoped link route destinations.
</p>
</dd>
<dt class="hdlist1">
<em>allowAdminStatusUpdate</em> (boolean, default=<em>True</em>)
</dt>
<dd>
<p>
  Whether this connection is allowed to update the admin status of other connections. Note: Inter-router connections cannot be deleted at any time.
</p>
</dd>
<dt class="hdlist1">
<em>allowFallbackLinks</em> (boolean, default=<em>True</em>)
</dt>
<dd>
<p>
  Whether this connection is allowed to claim <em>qd.fallback</em> capability for attached links.  This allows endpoints to act as fallback destinations for addresses that have fallback capability enabled.
</p>
</dd>
<dt class="hdlist1">
<em>sources</em> (string)
</dt>
<dd>
<p>
</p>
</dd>
<dt class="hdlist1">
<em>targets</em> (string)
</dt>
<dd>
<p>
</p>
</dd>
<dt class="hdlist1">
<em>sourcePattern</em> (string)
</dt>
<dd>
<p>
</p>
</dd>
<dt class="hdlist1">
<em>targetPattern</em> (string)
</dt>
<dd>
<p>
</p>
</dd>
</dl></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_see_also">SEE ALSO</h2>
<div class="sectionbody">
<div class="paragraph"><p><strong>qdrouterd(8)</strong>, <strong>qdmanage(8)</strong></p></div>
<div class="paragraph"><p><a href="http://qpid.apache.org/components/dispatch-router">http://qpid.apache.org/components/dispatch-router</a></p></div>
</div>
</div>


          <hr/>

          <ul id="-apache-navigation">
            <li><a href="http://www.apache.org/">Apache</a></li>
            <li><a href="http://www.apache.org/licenses/">License</a></li>
            <li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
            <li><a href="http://www.apache.org/foundation/thanks.html">Thanks!</a></li>
            <li><a href="/security.html">Security</a></li>
            <li><a href="http://www.apache.org/"><img id="-apache-feather" width="48" height="14" src="" alt="Apache"/></a></li>
          </ul>

          <p id="-legal">
            Apache Qpid, Messaging built on AMQP; Copyright &#169; 2015
            The Apache Software Foundation; Licensed under
            the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache
            License, Version 2.0</a>; Apache Qpid, Qpid, Qpid Proton,
            Proton, Apache, the Apache feather logo, and the Apache Qpid
            project logo are trademarks of The Apache Software
            Foundation; All other marks mentioned may be trademarks or
            registered trademarks of their respective owners
          </p>
        </div>
      </div>
    </div>
  </body>
</html>
